{"remainingRequest":"D:\\termination project\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\termination project\\front\\src\\utils\\utils.js","dependencies":[{"path":"D:\\termination project\\front\\src\\utils\\utils.js","mtime":1682620853620},{"path":"D:\\termination project\\front\\babel.config.js","mtime":1680487519462},{"path":"D:\\termination project\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\termination project\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBhdXRoIGZyb20gJ0AvYXBpL2F1dGgnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi4vcm91dGVyL2luZGV4JzsKY29uc3QgZ2V0UmFuZG9tSWQgPSAoKSA9PiB7CiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKTsKfTsKCi8vIHZhbGlkIGVsIGZvcm0gYW5kIGludm9rZSB0YXJnZXQgbWV0aG9kCmNvbnN0IHZhbGlkRm9ybUFuZEludm9rZSA9IChmb3JtRWwsIHN1Y2Nlc3MsIG1lc3NhZ2UgPSAnQWNjb3VudCBvciBwYXNzd29yZCBlcnJvcicsIGZhaWwgPSBmdW5jdGlvbiAoKSB7fSkgPT4gewogIGlmICghZm9ybUVsKSB7CiAgICByZXR1cm47CiAgfQogIGZvcm1FbC52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICBpZiAodmFsaWQpIHsKICAgICAgLy8gZm9ybSB2YWxpZCBzdWNjZWVkCiAgICAgIC8vIGRvIHN1Y2Nlc3MgZnVuY3Rpb24KICAgICAgc3VjY2VzcygpOwogICAgICAvLyByZXNldCBmaWVsZHMKICAgICAgZm9ybUVsLnJlc2V0RmllbGRzKCk7CiAgICB9IGVsc2UgewogICAgICAvLyBmb3JtIHZhbGlkIGZhaWwKICAgICAgVnVlLnByb3RvdHlwZS4kbm90aWZ5KHsKICAgICAgICB0aXRsZTogJ1RpcHMnLAogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICB9KTsKICAgICAgLy8gZG8gc29tZXRoaW5nIHdoZW4gZmFpbAogICAgICBmYWlsKCk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9KTsKfTsKLy8gY2hlY2sgdG9rZW4gYW5kIHJvdXRlciBsaW5rCmNvbnN0IGNoZWNrVG9rZW4gPSB0byA9PiB7CiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRob3JpemF0aW9uJykgIT09IG51bGwpIHsKICAgIGF1dGguY2hlY2tUb2tlbigpLnRoZW4ocmVzcCA9PiB7CiAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgewogICAgICAgIHJvdXRlci5wdXNoKHRvKTsKICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYXV0aG9yaXphdGlvbicpOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgdmFsaWRGb3JtQW5kSW52b2tlLAogIGNoZWNrVG9rZW4sCiAgZ2V0UmFuZG9tSWQKfTs="},{"version":3,"names":["auth","Vue","router","getRandomId","Math","floor","random","validFormAndInvoke","formEl","success","message","fail","validate","valid","resetFields","prototype","$notify","title","type","duration","checkToken","to","localStorage","getItem","then","resp","code","push","catch","error","removeItem"],"sources":["D:/termination project/front/src/utils/utils.js"],"sourcesContent":["import auth from '@/api/auth'\r\nimport Vue from 'vue'\r\nimport router from '../router/index'\r\n\r\nconst getRandomId = () => {\r\n  return Math.floor(Math.random() * 10000000);\r\n}\r\n\r\n// valid el form and invoke target method\r\nconst validFormAndInvoke = (formEl, success, message = 'Account or password error', fail = function () {\r\n}) => {\r\n  if (!formEl) {\r\n    return\r\n  }\r\n  formEl.validate(valid => {\r\n    if (valid) {// form valid succeed\r\n      // do success function\r\n      success()\r\n      // reset fields\r\n      formEl.resetFields()\r\n    } else {// form valid fail\r\n      Vue.prototype.$notify({\r\n        title: 'Tips',\r\n        message: message,\r\n        type: 'error',\r\n        duration: 2000\r\n      })\r\n      // do something when fail\r\n      fail()\r\n      return false\r\n    }\r\n  })\r\n}\r\n// check token and router link\r\nconst checkToken = (to) => {\r\n  if (localStorage.getItem('authorization') !== null) {\r\n    auth.checkToken()\r\n      .then(resp => {\r\n        if (resp.code === 200) {\r\n          router.push(to)\r\n        }\r\n      })\r\n      .catch(error => {\r\n        localStorage.removeItem('authorization')\r\n      })\r\n  }\r\n}\r\n\r\nexport default {\r\n  validFormAndInvoke,\r\n  checkToken,\r\n  getRandomId\r\n}\r\n"],"mappings":";AAAA,OAAOA,IAAI,MAAM,YAAY;AAC7B,OAAOC,GAAG,MAAM,KAAK;AACrB,OAAOC,MAAM,MAAM,iBAAiB;AAEpC,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,QAAQ,CAAC;AAC7C,CAAC;;AAED;AACA,MAAMC,kBAAkB,GAAGA,CAACC,MAAM,EAAEC,OAAO,EAAEC,OAAO,GAAG,2BAA2B,EAAEC,IAAI,GAAG,SAAAA,CAAA,EAAY,CACvG,CAAC,KAAK;EACJ,IAAI,CAACH,MAAM,EAAE;IACX;EACF;EACAA,MAAM,CAACI,QAAQ,CAACC,KAAK,IAAI;IACvB,IAAIA,KAAK,EAAE;MAAC;MACV;MACAJ,OAAO,EAAE;MACT;MACAD,MAAM,CAACM,WAAW,EAAE;IACtB,CAAC,MAAM;MAAC;MACNb,GAAG,CAACc,SAAS,CAACC,OAAO,CAAC;QACpBC,KAAK,EAAE,MAAM;QACbP,OAAO,EAAEA,OAAO;QAChBQ,IAAI,EAAE,OAAO;QACbC,QAAQ,EAAE;MACZ,CAAC,CAAC;MACF;MACAR,IAAI,EAAE;MACN,OAAO,KAAK;IACd;EACF,CAAC,CAAC;AACJ,CAAC;AACD;AACA,MAAMS,UAAU,GAAIC,EAAE,IAAK;EACzB,IAAIC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;IAClDvB,IAAI,CAACoB,UAAU,EAAE,CACdI,IAAI,CAACC,IAAI,IAAI;MACZ,IAAIA,IAAI,CAACC,IAAI,KAAK,GAAG,EAAE;QACrBxB,MAAM,CAACyB,IAAI,CAACN,EAAE,CAAC;MACjB;IACF,CAAC,CAAC,CACDO,KAAK,CAACC,KAAK,IAAI;MACdP,YAAY,CAACQ,UAAU,CAAC,eAAe,CAAC;IAC1C,CAAC,CAAC;EACN;AACF,CAAC;AAED,eAAe;EACbvB,kBAAkB;EAClBa,UAAU;EACVjB;AACF,CAAC"}]}