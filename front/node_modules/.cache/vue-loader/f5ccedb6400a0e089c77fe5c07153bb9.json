{"remainingRequest":"D:\\termination project\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\termination project\\front\\src\\views\\teacher\\QuestionManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\termination project\\front\\src\\views\\teacher\\QuestionManage.vue","mtime":1683944516610},{"path":"D:\\termination project\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\termination project\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\termination project\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\termination project\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcXVlc3Rpb25CYW5rIGZyb20gJ0AvYXBpL3F1ZXN0aW9uQmFuaycNCmltcG9ydCBxdWVzdGlvbiBmcm9tICdAL2FwaS9xdWVzdGlvbicNCmltcG9ydCB1dGlscyBmcm9tICdAL3V0aWxzL3V0aWxzJw0KaW1wb3J0IHsgZ2VuZXJhdGVTaWduIH0gZnJvbSAnQC91dGlscy9zaWduJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdRdWVzdGlvbk1hbmFnZScsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB1cGxvYWRJbWFnZVVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9VUExPQURfSU1BR0VfVVJMLA0KICAgICAgLy/mn6Xor6LnlKjmiLfnmoTlj4LmlbANCiAgICAgIHF1ZXJ5SW5mbzogew0KICAgICAgICAvL+mimOebruexu+Wei+S4i+aLieasvuaJgOmAieeahOWGheWuuQ0KICAgICAgICAncXVlc3Rpb25UeXBlJzogJycsDQogICAgICAgICdxdWVzdGlvbkJhbmsnOiAnJywNCiAgICAgICAgJ3F1ZXN0aW9uQ29udGVudCc6ICcnLA0KICAgICAgICAncGFnZU5vJzogMSwNCiAgICAgICAgJ3BhZ2VTaXplJzogMTANCiAgICAgIH0sDQogICAgICAvL+mimOebruexu+Weiw0KICAgICAgcXVlc3Rpb25UeXBlOiBbDQogICAgICAgIHsNCiAgICAgICAgICBpZDogMSwNCiAgICAgICAgICBuYW1lOiAnU2luZ2xlIGNob2ljZScsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogMiwNCiAgICAgICAgICBuYW1lOiAnTXVsdGlwbGUgY2hvaWNlJywNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAzLA0KICAgICAgICAgIG5hbWU6ICdUcnVlIG9yIGZhbHNlJywNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiA0LA0KICAgICAgICAgIG5hbWU6ICdTaG9ydCBhbnN3ZXInLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIC8v6aKY5bqT5L+h5oGvDQogICAgICBhbGxCYW5rOiBbXSwNCiAgICAgIC8v6aKY55uu5L+h5oGvDQogICAgICBxdWVzdGlvbkluZm86IFtdLA0KICAgICAgLy/popjnm67kv6Hmga/ooajmoLzmmK/lkKbliqDovb0NCiAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAvL+ihqOagvOiiq+mAieS4reeahOaJgOacieihjA0KICAgICAgc2VsZWN0aW9uVGFibGU6IFtdLA0KICAgICAgLy/ooajmoLzooYzooqvpgInkuK3lkI7nmoTmiYDmnInmk43kvZzmlrnlvI/nmoTmlbDmja4NCiAgICAgIG9wdGlvbkluZm86IFsNCiAgICAgICAgew0KICAgICAgICAgICdsYWJlbCc6ICfliKDpmaQnLA0KICAgICAgICAgICdkZXNjJzogJ2RlbGV0ZScNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICdsYWJlbCc6ICfliqDlhaXpopjlupMnLA0KICAgICAgICAgICdkZXNjJzogJ2FkZCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICdsYWJlbCc6ICfpopjlupPkuK3np7vpmaQnLA0KICAgICAgICAgICdkZXNjJzogJ3JlbW92ZScNCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIC8v6KGo5qC86KGM6KKr6YCJ5Lit5ZCO55qE5pWw5o2uDQogICAgICBvcGVyYXRpb246ICcnLA0KICAgICAgLy/popjnm67mgLvmlbANCiAgICAgIHRvdGFsOiAwLA0KICAgICAgLy/mmK/lkKbmmL7npLrliqDlhaXpopjlupPlr7nor53moYYNCiAgICAgIGFkZFRhYmxlVmlzaWJsZTogZmFsc2UsDQogICAgICAvL+aYr+WQpuaYvuekuuenu+mZpOmimOW6k+Wvueivneahhg0KICAgICAgcmVtb3ZlVGFibGVWaXNpYmxlOiBmYWxzZSwNCiAgICAgIC8v5piv5ZCm5pi+56S65re75Yqg6aKY55uu55qE5a+56K+d5qGGDQogICAgICBhZGRRdVRhYmxlVmlzaWJsZTogZmFsc2UsDQogICAgICAvL+a3u+WKoOmimOW6k+eahOihqOWNleS/oeaBrw0KICAgICAgYWRkRm9ybTogew0KICAgICAgICBiYW5rSWQ6ICcnDQogICAgICB9LA0KICAgICAgcmVtb3ZlRm9ybTogew0KICAgICAgICBiYW5rSWQ6ICcnDQogICAgICB9LA0KICAgICAgLy/mt7vliqDpopjlupPooajljZXnmoTpqozor4ENCiAgICAgIGFkZEZvcm1SdWxlczogew0KICAgICAgICBiYW5rSWQ6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npnIDopoHmt7vliqDov5vnmoTpopjlupMnLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgLy/np7vpmaTpopjlupPooajljZXnmoTpqozor4ENCiAgICAgIHJlbW92ZUZvcm1SdWxlczogew0KICAgICAgICBiYW5rSWQ6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npnIDopoHnp7vpmaTnmoTpopjlupMnLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgLy/mt7vliqDpopjnm67nmoTooajljZXkv6Hmga8NCiAgICAgIGFkZFF1Rm9ybTogew0KICAgICAgICBxdWVzdGlvblR5cGU6IDEsDQogICAgICAgIHF1ZXN0aW9uTGV2ZWw6IDEsDQogICAgICAgIGJhbmtJZDogJycsDQogICAgICAgIHF1ZXN0aW9uQ29udGVudDogJycsDQogICAgICAgIGltYWdlczogW10sDQogICAgICAgIGFuYWx5c2lzOiAnJywNCiAgICAgICAgY3JlYXRlUGVyc29uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSwNCiAgICAgICAgLy/nrZTmoYjlr7nosaENCiAgICAgICAgYW5zd2VyOiBbXQ0KICAgICAgfSwNCiAgICAgIC8v5re75Yqg6aKY55uu6KGo5Y2V55qE6aqM6K+B6KeE5YiZDQogICAgICBhZGRRdUZvcm1SdWxlczogew0KICAgICAgICBxdWVzdGlvblR5cGU6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npl67popjnsbvlnosnLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBxdWVzdGlvbkxldmVsOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6Zeu6aKY6Zq+5bqmJywNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgYmFua0lkOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6aKY5bqTJywNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgcXVlc3Rpb25Db250ZW50OiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6aKY5bqT5YaF5a65JywNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgICAvL+abtOaWsOmimOebruihqOWNleeahOmqjOivgeinhOWImQ0KICAgICAgdXBkYXRlUXVGb3JtUnVsZXM6IHsNCiAgICAgICAgcXVlc3Rpb25UeXBlOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6Zeu6aKY57G75Z6LJywNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJw0KICAgICAgICAgIH0NCiAgICAgICAgXSwNCiAgICAgICAgcXVlc3Rpb25MZXZlbDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqemXrumimOmavuW6picsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIGJhbmtJZDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqemimOW6kycsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIHF1ZXN0aW9uQ29udGVudDogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemimOW6k+WGheWuuScsDQogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicNCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICB9LA0KICAgICAgLy/lm77niYflm57mmL7nmoTmoLflvI8NCiAgICAgIGJhY2tTaG93SW1nVmlzaWJsZTogZmFsc2UsDQogICAgICAvL+WbvueJh+WbnuaYvueahOWbvueJh+WcsOWdgA0KICAgICAgYmFja1Nob3dJbWdVcmw6ICcnLA0KICAgICAgLy/mm7TmlrDpopjnm67nmoTmlbDmja7kv6Hmga8NCiAgICAgIHVwZGF0ZVF1Rm9ybTogew0KICAgICAgICBxdWVzdGlvbklkOiAnJywNCiAgICAgICAgcXVlc3Rpb25UeXBlOiAxLA0KICAgICAgICBxdWVzdGlvbkxldmVsOiAxLA0KICAgICAgICBiYW5rSWQ6ICcnLA0KICAgICAgICBxdWVzdGlvbkNvbnRlbnQ6ICcnLA0KICAgICAgICBpbWFnZXM6IFtdLA0KICAgICAgICBhbmFseXNpczogJycsDQogICAgICAgIGNyZWF0ZVBlcnNvbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyksDQogICAgICAgIC8v562U5qGI5a+56LGhDQogICAgICAgIGFuc3dlcjogW10NCiAgICAgIH0sDQogICAgICAvL+aYr+WQpuaYvuekuuabtOaWsOmimOebrueahOWvueivneahhg0KICAgICAgdXBkYXRlUXVUYWJsZVZpc2libGU6IGZhbHNlLA0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5nZXRRdWVzdGlvbkJhbmtJbmZvKCkNCiAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+iOt+WPluaJgOacieeahOmimOW6k+S/oeaBrw0KICAgIGdldFF1ZXN0aW9uQmFua0luZm8gKCkgew0KICAgICAgcXVlc3Rpb25CYW5rLmdldFF1ZXN0aW9uQmFuaygpLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgdGhpcy5hbGxCYW5rID0gcmVzcC5kYXRhDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+mimOebruexu+Wei+WPmOWMlg0KICAgIHR5cGVDaGFuZ2UgKHZhbCkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucXVlc3Rpb25UeXBlID0gdmFsDQogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgfSwNCiAgICAvL+mimOW6k+WPmOWMlg0KICAgIGJhbmtDaGFuZ2UgKHZhbCkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucXVlc3Rpb25CYW5rID0gdmFsDQogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgfSwNCiAgICAvL+mimOebruWQjeWtl+etm+mAiQ0KICAgIGNvbnRlbnRDaGFuZ2UgKCkgew0KICAgICAgLy/lj5HpgIHmn6Xor6Lpopjnm67mgLvmlbDnmoTor7fmsYINCiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCkNCiAgICB9LA0KICAgIC8v6I635Y+W6aKY55uu5L+h5oGvDQogICAgZ2V0UXVlc3Rpb25JbmZvICgpIHsNCiAgICAgIHF1ZXN0aW9uLmdldFF1ZXN0aW9uKHRoaXMucXVlcnlJbmZvKS50aGVuKChyZXNwKSA9PiB7DQogICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgIHRoaXMucXVlc3Rpb25JbmZvID0gcmVzcC5kYXRhLmRhdGENCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsDQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v5aSE55CG6KGo5qC86KKr6YCJ5LitDQogICAgaGFuZGxlVGFibGVTZWN0aW9uQ2hhbmdlICh2YWwpIHsNCiAgICAgIHRoaXMuc2VsZWN0aW9uVGFibGUgPSB2YWwNCiAgICB9LA0KICAgIC8v5aSE55CG5pON5L2c6YCJ5oup5qGG55qE5Y+Y5YyWDQogICAgb3BlcmF0aW9uQ2hhbmdlICh2YWwpIHsNCiAgICAgIC8v5riF56m65LiK5LiA5qyh55qE6YCJ5oupDQogICAgICB0aGlzLm9wZXJhdGlvbiA9ICcnDQoNCiAgICAgIGxldCBxdWVzdGlvbklkcyA9IFtdDQogICAgICBpZiAodmFsID09PSAnZGVsZXRlJykgew0KICAgICAgICB0aGlzLnNlbGVjdGlvblRhYmxlLm1hcChpdGVtID0+IHsNCiAgICAgICAgICBxdWVzdGlvbklkcy5wdXNoKGl0ZW0uaWQpDQogICAgICAgIH0pDQogICAgICAgIC8v5Y+R6LW35Yig6Zmk6K+35rGCDQogICAgICAgIHF1ZXN0aW9uLmRlbGV0ZVF1ZXN0aW9uKHsgJ3F1ZXN0aW9uSWRzJzogcXVlc3Rpb25JZHMuam9pbignLCcpIH0pLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLA0KICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfJywNCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gJ2FkZCcpIHsNCiAgICAgICAgdGhpcy5hZGRUYWJsZVZpc2libGUgPSB0cnVlDQogICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gJ3JlbW92ZScpIHsNCiAgICAgICAgdGhpcy5yZW1vdmVUYWJsZVZpc2libGUgPSB0cnVlDQogICAgICB9DQogICAgfSwNCiAgICAvL+WIhumhtemhtemdouWkp+Wwj+aUueWPmA0KICAgIGhhbmRsZVNpemVDaGFuZ2UgKHZhbCkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSB2YWwNCiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCkNCiAgICB9LA0KICAgIC8v5YiG6aG15o+S5Lu255qE6aG15pWwDQogICAgaGFuZGxlQ3VycmVudENoYW5nZSAodmFsKSB7DQogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTm8gPSB2YWwNCiAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCkNCiAgICB9LA0KICAgIC8v6KGo5Y2V5L+h5oGv6YeN572uDQogICAgcmVzZXRBZGRGb3JtICgpIHsNCiAgICAgIC8v5riF56m66KGo5qC85pWw5o2uDQogICAgICB0aGlzLiRyZWZzWydhZGRGb3JtJ10ucmVzZXRGaWVsZHMoKQ0KICAgIH0sDQogICAgcmVzZXRSZW1vdmVGb3JtICgpIHsNCiAgICAgIC8v5riF56m66KGo5qC85pWw5o2uDQogICAgICB0aGlzLiRyZWZzWydyZW1vdmVGb3JtJ10ucmVzZXRGaWVsZHMoKQ0KICAgIH0sDQogICAgcmVzZXRBZGRRdUZvcm0gKCkgew0KICAgICAgdGhpcy4kcmVmc1snYWRkUXVGb3JtJ10ucmVzZXRGaWVsZHMoKQ0KICAgIH0sDQogICAgLy/mj5DkuqTliqDlhaXpopjlupPnmoTooajljZXkv6Hmga8NCiAgICBhZGRCYW5rICgpIHsNCiAgICAgIHV0aWxzLnZhbGlkRm9ybUFuZEludm9rZSh0aGlzLiRyZWZzWydhZGRGb3JtJ10sICgpID0+IHsNCiAgICAgICAgbGV0IHF1ZXN0aW9uSWRzID0gW10NCiAgICAgICAgbGV0IGJhbmtzID0gdGhpcy5hZGRGb3JtLmJhbmtJZA0KICAgICAgICAvL+WwhuihqOagvOmAieS4reeahOaVsOaNruS4reeahOmXrumimGlk5Yqg5YWl6L+b5Y67DQogICAgICAgIHRoaXMuc2VsZWN0aW9uVGFibGUubWFwKGl0ZW0gPT4gew0KICAgICAgICAgIHF1ZXN0aW9uSWRzLnB1c2goaXRlbS5pZCkNCiAgICAgICAgfSkNCiAgICAgICAgcXVlc3Rpb25CYW5rLmFkZEJhbmtRdWVzdGlvbih7DQogICAgICAgICAgJ3F1ZXN0aW9uSWRzJzogcXVlc3Rpb25JZHMuam9pbignLCcpLA0KICAgICAgICAgICdiYW5rcyc6IGJhbmtzLmpvaW4oJywnKQ0KICAgICAgICB9KS50aGVuKChyZXNwKSA9PiB7DQogICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLA0KICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1lc3NhZ2UsDQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDANCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuYWRkVGFibGVWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgfSkNCiAgICAgIH0sICfor7fpgInmi6npnIDopoHliqDlhaXov5vnmoTpopjlupMnKQ0KICAgIH0sDQogICAgLy/mj5DkuqTnp7vpmaTpopjlupPnmoTooajljZXkv6Hmga8NCiAgICByZW1vdmVCYW5rICgpIHsNCiAgICAgIHV0aWxzLnZhbGlkRm9ybUFuZEludm9rZSh0aGlzLiRyZWZzWydyZW1vdmVGb3JtJ10sICgpID0+IHsNCiAgICAgICAgbGV0IHF1ZXN0aW9uSWRzID0gW10NCiAgICAgICAgbGV0IGJhbmtzID0gdGhpcy5yZW1vdmVGb3JtLmJhbmtJZA0KICAgICAgICAvL+WwhuihqOagvOmAieS4reeahOaVsOaNruS4reeahOmXrumimGlk5Yqg5YWl6L+b5Y67DQogICAgICAgIHRoaXMuc2VsZWN0aW9uVGFibGUubWFwKGl0ZW0gPT4gew0KICAgICAgICAgIHF1ZXN0aW9uSWRzLnB1c2goaXRlbS5pZCkNCiAgICAgICAgfSkNCiAgICAgICAgLy/lj5Hotbfnp7vpmaTor7fmsYINCiAgICAgICAgcXVlc3Rpb25CYW5rLnJlbW92ZUJhbmtRdWVzdGlvbih7DQogICAgICAgICAgJ3F1ZXN0aW9uSWRzJzogcXVlc3Rpb25JZHMuam9pbignLCcpLA0KICAgICAgICAgICdiYW5rcyc6IGJhbmtzLmpvaW4oJywnKQ0KICAgICAgICB9KS50aGVuKChyZXNwKSA9PiB7DQogICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLA0KICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1lc3NhZ2UsDQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDANCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMucmVtb3ZlVGFibGVWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgfSkNCiAgICAgIH0sICfor7fpgInmi6npnIDopoHnp7vpmaTnmoTpopjlupMnKQ0KICAgIH0sDQogICAgLy/mlrDlop7popjnm67kuIrkvKDlkI4g54K55Ye75Zu+54mH55qE5Zue5pi+DQogICAgdXBsb2FkUHJldmlldyAoZmlsZSkgew0KICAgICAgdGhpcy5iYWNrU2hvd0ltZ1VybCA9IGZpbGUucmVzcG9uc2UuZGF0YQ0KICAgICAgdGhpcy5iYWNrU2hvd0ltZ1Zpc2libGUgPSB0cnVlDQogICAgfSwNCiAgICAvL+aWsOWinumimOebruS4reeahOS4iuS8oOWbvueJh+eahOenu+mZpA0KICAgIGhhbmRsZVJlbW92ZSAoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIHRoaXMuYWRkUXVGb3JtLmltYWdlcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7Ly/np7vpmaTlm77niYflnKjooajljZXkuK3nmoTmlbDmja4NCiAgICAgICAgaWYgKGl0ZW0gPT09IGZpbGUucmVzcG9uc2UuZGF0YSkgdGhpcy5hZGRRdUZvcm0uaW1hZ2VzLnNwbGljZShpbmRleCwgMSkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+abtOaWsOmimOebruS4reeahOS4iuS8oOWbvueJh+eahOenu+mZpA0KICAgIGhhbmRsZVVwZGF0ZVJlbW92ZSAoZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIHRoaXMudXBkYXRlUXVGb3JtLmltYWdlcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7Ly/np7vpmaTlm77niYflnKjooajljZXkuK3nmoTmlbDmja4NCiAgICAgICAgaWYgKGl0ZW0gPT09IGZpbGUucmVzcG9uc2UuZGF0YSkgdGhpcy51cGRhdGVRdUZvcm0uaW1hZ2VzLnNwbGljZShpbmRleCwgMSkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+aWsOWinumimOebruS4reeahOS4iuS8oOWbvueJh+eahOagvOW8j+Wkp+Wwj+mZkOWItg0KICAgIGJlZm9yZUF2YXRhclVwbG9hZCAoZmlsZSkgew0KICAgICAgY29uc3QgaXNJbWcgPSBmaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJyB8fA0KICAgICAgICBmaWxlLnR5cGUgPT09ICdpbWFnZS9wbmcnIHx8DQogICAgICAgIGZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZycNCiAgICAgIGNvbnN0IGlzTHQgPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDEwDQoNCiAgICAgIGlmICghaXNJbWcpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5Y+q6IO95pivIEpQRy9QTkcg5qC85byPIScpDQogICAgICB9DQoNCiAgICAgIGlmICghaXNMdCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMTBNQiEnKQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIGlzSW1nICYmIGlzTHQNCiAgICB9LA0KICAgIC8v5paw5aKe6aKY55uu5Lit55qE5LiK5Lyg5Zu+54mH5oiQ5Yqf5ZCO55qE6ZKp5a2Q5Ye95pWwDQogICAgdXBsb2FkSW1nU3VjY2VzcyAocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLmFkZFF1Rm9ybS5pbWFnZXMucHVzaChyZXNwb25zZS5kYXRhKQ0KICAgIH0sDQogICAgLy/mm7TmlrDpopjnm67kuK3nmoTkuIrkvKDlm77niYfmiJDlip/lkI7nmoTpkqnlrZDlh73mlbANCiAgICB1cGRhdGVVcGxvYWRJbWdTdWNjZXNzIChyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIHRoaXMudXBkYXRlUXVGb3JtLmltYWdlcy5wdXNoKHJlc3BvbnNlLmRhdGEpDQogICAgfSwNCiAgICAvL+aWsOWinumimOebruS4reeahOaWsOWinuetlOahiOWhq+WGmeahhg0KICAgIGFkZEFuc3dlciAoKSB7DQogICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIucHVzaCh7DQogICAgICAgIGlkOiB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIubGVuZ3RoLA0KICAgICAgICBpc1RydWU6IGZhbHNlLA0KICAgICAgICBhbnN3ZXI6ICcnLA0KICAgICAgICBpbWFnZXM6IFtdLA0KICAgICAgICBhbmFseXNpczogJycNCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+abtOaWsOaXtuaWsOWinumimOebruS4reeahOaWsOWinuetlOahiOWhq+WGmeahhg0KICAgIGFkZFVwZGF0ZUFuc3dlciAoKSB7DQogICAgICB0aGlzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIucHVzaCh7DQogICAgICAgIGlkOiB0aGlzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIubGVuZ3RoLA0KICAgICAgICBpc1RydWU6IGZhbHNlLA0KICAgICAgICBhbnN3ZXI6ICcnLA0KICAgICAgICBpbWFnZXM6IFtdLA0KICAgICAgICBhbmFseXNpczogJycNCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+aWsOWinumimOebruS4reeahOWIoOmZpOetlOahiOWhq+WGmeahhg0KICAgIGRlbEFuc3dlciAoaWQpIHsvL+W9k+WJjeetlOahiOeahGlkDQogICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIubWFwKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHRoaXMuYWRkUXVGb3JtLmFuc3dlci5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/mlrDlop7popjnm67kuK3nmoTliKDpmaTnrZTmoYjloavlhpnmoYYNCiAgICBkZWxVcGRhdGVBbnN3ZXIgKGlkKSB7Ly/lvZPliY3nrZTmoYjnmoRpZA0KICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSB0aGlzLnVwZGF0ZVF1Rm9ybS5hbnN3ZXIuc3BsaWNlKGluZGV4LCAxKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v562U5qGI5LiK5Lyg54Wn54mH5LqGDQogICAgdXBsb2FkQW5zd2VySW1nU3VjY2VzcyAocmVzcG9uc2UsIGlkKSB7DQogICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXJbaWRdLmltYWdlcy5wdXNoKHJlc3BvbnNlLmRhdGEpDQogICAgfSwNCiAgICAvL+abtOaWsOeahOetlOahiOS4iuS8oOWbvueJh+S6hg0KICAgIHVwbG9hZFVwZGF0ZUFuc3dlckltZ1N1Y2Nlc3MgKHJlc3BvbnNlLCBpZCkgew0KICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyW2lkXS5pbWFnZXMucHVzaChyZXNwb25zZS5kYXRhKQ0KICAgIH0sDQogICAgLy/nrZTmoYjkuIrkvKDmiJDlip/lkI7liKDpmaQNCiAgICBoYW5kbGVBbnN3ZXJSZW1vdmUgKGZpbGUpIHsNCiAgICAgIHRoaXMuYWRkUXVGb3JtLmFuc3dlci5pbWFnZXMubWFwKChpdGVtLCBpbmRleCkgPT4gey8v56e76Zmk5Zu+54mH5Zyo6KGo5Y2V5Lit55qE5pWw5o2uDQogICAgICAgIGlmIChpdGVtID09PSBmaWxlLnJlc3BvbnNlLmRhdGEpIHRoaXMuYWRkUXVGb3JtLmltYWdlcy5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/mm7TmlrDnmoTml7blgJnnrZTmoYjkuIrkvKDmiJDlip/lkI7liKDpmaQNCiAgICBoYW5kbGVVcGRhdGVBbnN3ZXJSZW1vdmUgKGZpbGUpIHsNCiAgICAgIHRoaXMudXBkYXRlUXVGb3JtLmFuc3dlci5pbWFnZXMubWFwKChpdGVtLCBpbmRleCkgPT4gey8v56e76Zmk5Zu+54mH5Zyo6KGo5Y2V5Lit55qE5pWw5o2uDQogICAgICAgIGlmIChpdGVtID09PSBmaWxlLnJlc3BvbnNlLmRhdGEpIHRoaXMudXBkYXRlUXVGb3JtLmltYWdlcy5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/pgInmi6nmraPnoa7nrZTmoYjnmoTmjInpkq7lj5jljJbkuovku7YNCiAgICBjaGVja0Fuc3dlciAoY2hlY2tlZCwgaWQpIHsNCiAgICAgIGlmIChjaGVja2VkKSB7DQogICAgICAgIGlmICh0aGlzLmFkZFF1Rm9ybS5xdWVzdGlvblR5cGUgPT09IDEgfHwgdGhpcy5hZGRRdUZvcm0ucXVlc3Rpb25UeXBlID09PSAzKSB7Ly/ljZXpgInmiJbogIXliKTmlq0NCiAgICAgICAgICAvL+W9k+WJjeW3sue7j+acieS4gOS4quato+ehrueahOmAieaLqeS6hg0KICAgICAgICAgIHRoaXMuYWRkUXVGb3JtLmFuc3dlci5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICBpdGVtLmlzVHJ1ZSA9IGZhbHNlDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIubWFwKGl0ZW0gPT4gew0KICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSBpdGVtLmlzVHJ1ZSA9IHRydWUNCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2Ugey8v5aSa6YCJIOWPr+S7peacieWkmuS4quetlOahiA0KICAgICAgICAgIHRoaXMuYWRkUXVGb3JtLmFuc3dlci5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIGl0ZW0uaXNUcnVlID0gdHJ1ZQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuYWRkUXVGb3JtLmFuc3dlci5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSBpdGVtLmlzVHJ1ZSA9IGZhbHNlDQogICAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgICAvL+abtOaWsOaXtumAieaLqeato+ehruetlOahiOeahOaMiemSruWPmOWMluS6i+S7tg0KICAgIGNoZWNrVXBkYXRlQW5zd2VyIChjaGVja2VkLCBpZCkgew0KICAgICAgaWYgKGNoZWNrZWQpIHsNCiAgICAgICAgaWYgKHRoaXMudXBkYXRlUXVGb3JtLnF1ZXN0aW9uVHlwZSA9PT0gMSB8fCB0aGlzLnVwZGF0ZVF1Rm9ybS5xdWVzdGlvblR5cGUgPT09IDMpIHsvL+WNlemAieaIluiAheWIpOaWrQ0KICAgICAgICAgIC8v5b2T5YmN5bey57uP5pyJ5LiA5Liq5q2j56Gu55qE6YCJ5oup5LqGDQogICAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgIGl0ZW0uaXNUcnVlID0gZmFsc2UNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMudXBkYXRlUXVGb3JtLmFuc3dlci5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIGl0ZW0uaXNUcnVlID0gdHJ1ZQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7Ly/lpJrpgIkg5Y+v5Lul5pyJ5aSa5Liq562U5qGIDQogICAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgIGlmIChpdGVtLmlkID09PSBpZCkgaXRlbS5pc1RydWUgPSB0cnVlDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcChpdGVtID0+IHsNCiAgICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIGl0ZW0uaXNUcnVlID0gZmFsc2UNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5paw5aKe6aKY55uuDQogICAgYWRkUXVlc3Rpb24gKCkgew0KICAgICAgdGhpcy4kcmVmc1snYWRkUXVGb3JtJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCAmJiB0aGlzLmFkZFF1Rm9ybS5hbnN3ZXIuc29tZShpdGVtID0+IGl0ZW0uaXNUcnVlKSAmJiB0aGlzLmFkZFF1Rm9ybS5xdWVzdGlvblR5cGUgIT09IDQpIHsvL+WNlemAieaIluiAheWkmumAieaIluiAheWIpOaWrQ0KICAgICAgICAgIHF1ZXN0aW9uLmFkZFF1ZXN0aW9uKHRoaXMuYWRkUXVGb3JtKS50aGVuKChyZXNwKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgdGhpcy5hZGRRdVRhYmxlVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgICAgIHRoaXMuZ2V0UXVlc3Rpb25JbmZvKCkNCiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmlrDlop7popjnm67miJDlip8nLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMA0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSBpZiAodmFsaWQgJiYgIXRoaXMuYWRkUXVGb3JtLmFuc3dlci5zb21lKGl0ZW0gPT4gaXRlbS5pc1RydWUpICYmIHRoaXMuYWRkUXVGb3JtLnF1ZXN0aW9uVHlwZSAhPT0gNCkgey8v5peg562U5qGIDQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5b+F6aG75pyJ5LiA5Liq562U5qGIJykNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfSBlbHNlIGlmICh2YWxpZCAmJiB0aGlzLmFkZFF1Rm9ybS5xdWVzdGlvblR5cGUgPT09IDQpIHsvL+eugOetlOmimCDml6DmoIflh4bnrZTmoYjnm7TmjqXlj5Hor7fmsYINCiAgICAgICAgICAvL+W9k+aYr+eugOetlOmimOeahOaXtuWAmemcgOimgea4hemZpGFuc3dlcg0KICAgICAgICAgIHRoaXMuYWRkUXVGb3JtLmFuc3dlciA9IFtdDQogICAgICAgICAgcXVlc3Rpb24uYWRkUXVlc3Rpb24odGhpcy5hZGRRdUZvcm0pLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICB0aGlzLmFkZFF1VGFibGVWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKQ0KICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aWsOWinumimOebruaIkOWKnycsDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIGlmICghdmFsaWQpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7floavlhpnlv4XopoHkv6Hmga8nKQ0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/mm7TmlrDpopjnm64NCiAgICB1cGRhdGVRdSAoaWQpIHsNCiAgICAgIHF1ZXN0aW9uLmdldFF1ZXN0aW9uQnlJZChpZCkudGhlbigocmVzcCkgPT4gew0KICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICBpZiAocmVzcC5kYXRhLnF1ZXN0aW9uVHlwZSAhPT0gNCkgew0KICAgICAgICAgICAgcmVzcC5kYXRhLmFuc3dlci5tYXAoaXRlbSA9PiB7DQogICAgICAgICAgICAgIGl0ZW0uaXNUcnVlID0gaXRlbS5pc1RydWUgPT09ICd0cnVlJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0gPSByZXNwLmRhdGENCiAgICAgICAgICAvL+WkhOeQhuWbvueJh+mCo+S4quWPguaVsOaYr+S4quaVsOe7hA0KICAgICAgICAgIGlmICh0aGlzLnVwZGF0ZVF1Rm9ybS5pbWFnZXMgPT09IG51bGwpIHRoaXMudXBkYXRlUXVGb3JtLmltYWdlcyA9IFtdDQoNCiAgICAgICAgICBpZiAocmVzcC5kYXRhLnF1ZXN0aW9uVHlwZSAhPT0gNCkgew0KICAgICAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgICAgaWYgKGl0ZW0uaW1hZ2VzID09PSBudWxsKSB7DQogICAgICAgICAgICAgICAgaXRlbS5pbWFnZXMgPSBbXQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0NCg0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgdGhpcy51cGRhdGVRdVRhYmxlVmlzaWJsZSA9IHRydWUNCiAgICB9LA0KICAgIC8v5o+Q5Lqk5pu05paw6KGo5Y2VDQogICAgdXBkYXRlUXVlc3Rpb24gKCkgew0KICAgICAgdGhpcy4kcmVmc1sndXBkYXRlUXVGb3JtJ10udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCAmJiB0aGlzLnVwZGF0ZVF1Rm9ybS5xdWVzdGlvblR5cGUgIT09IDQgJiYgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLnNvbWUoaXRlbSA9PiBpdGVtLmlzVHJ1ZSkpIHsvL+WNlemAieaIluiAheWkmumAieaIluiAheWIpOaWrQ0KICAgICAgICAgIC8v5L+d6K+B562U5qGI55qE5Zu+54mH5Y+q5pyJ5LiA5bygDQogICAgICAgICAgdGhpcy51cGRhdGVRdUZvcm0uYW5zd2VyLm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgIGlmIChpdGVtLmltYWdlcy5sZW5ndGggPiAxKSB7DQogICAgICAgICAgICAgIGl0ZW0uaW1hZ2VzLnNwbGljZSgwLCBpdGVtLmltYWdlcy5sZW5ndGggLSAxKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgcXVlc3Rpb24udXBkYXRlUXVlc3Rpb24odGhpcy51cGRhdGVRdUZvcm0pLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVF1VGFibGVWaXNpYmxlID0gZmFsc2UNCiAgICAgICAgICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKQ0KICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+abtOaWsOmimOebruaIkOWKnycsDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIGlmICh2YWxpZCAmJiB0aGlzLnVwZGF0ZVF1Rm9ybS5xdWVzdGlvblR5cGUgIT09IDQgJiYgIXRoaXMudXBkYXRlUXVGb3JtLmFuc3dlci5zb21lKGl0ZW0gPT4gaXRlbS5pc1RydWUpKSB7Ly/ml6DnrZTmoYgNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflv4XpobvmnInkuIDkuKrnrZTmoYgnKQ0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9IGVsc2UgaWYgKHZhbGlkICYmIHRoaXMudXBkYXRlUXVGb3JtLnF1ZXN0aW9uVHlwZSA9PT0gNCkgey8v566A562U6aKYIOaXoOagh+WHhuetlOahiOebtOaOpeWPkeivt+axgg0KICAgICAgICAgIC8v5b2T5piv566A562U6aKY55qE5pe25YCZ6ZyA6KaB5riF6ZmkYW5zd2VyDQogICAgICAgICAgdGhpcy5hZGRRdUZvcm0uYW5zd2VyID0gW10NCiAgICAgICAgICBxdWVzdGlvbi51cGRhdGVRdWVzdGlvbih0aGlzLnVwZGF0ZVF1Rm9ybSkudGhlbigocmVzcCkgPT4gew0KICAgICAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgICAgIHRoaXMudXBkYXRlUXVUYWJsZVZpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pu05paw6aKY55uu5oiQ5YqfJywNCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDANCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgaWYgKCF2YWxpZCkgew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeW/heimgeS/oeaBrycpDQogICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvL+ebkea1i+WktOmDqOS/oeaBr+eahHRva2Vu5Y+Y5YyWDQogICAgaGVhZGVycyAoKSB7DQogICAgICBjb25zdCBzaWduSGVhZGVycyA9IHsNCiAgICAgICAgJ2JvZHktc3RyaW5nJzogJycsDQogICAgICAgICdxdWVyeS1zdHJpbmcnOiAnJywNCiAgICAgICAgJ3gtbm9uY2UnOiBgJHt1dGlscy5nZXRSYW5kb21JZCgpfWAsDQogICAgICAgICd4LXRpbWVzdGFtcCc6IGAke25ldyBEYXRlKCkuZ2V0VGltZSgpfWANCiAgICAgIH0NCiAgICAgIHJldHVybiB7DQogICAgICAgIC4uLnNpZ25IZWFkZXJzLA0KICAgICAgICBhdXRob3JpemF0aW9uOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aG9yaXphdGlvbicpIHx8ICcnLA0KICAgICAgICBzaWduOiBnZW5lcmF0ZVNpZ24oSlNPTi5zdHJpbmdpZnkoc2lnbkhlYWRlcnMpKSwNCiAgICAgIH0NCiAgICB9LA0KICB9DQp9DQo="},{"version":3,"sources":["QuestionManage.vue"],"names":[],"mappings":";AAwYA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"QuestionManage.vue","sourceRoot":"src/views/teacher","sourcesContent":["<template>\r\n  <el-container>\r\n\r\n    <el-header height=\"220\">\r\n      <el-row>\r\n        <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.questionType\" placeholder=\"Select a question type\">\r\n          <el-option\r\n            v-for=\"item in questionType\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n\r\n        <el-select @change=\"bankChange\" clearable v-model=\"queryInfo.questionBank\" placeholder=\"Select a question bank\"\r\n                   style=\"margin-left: 5px\">\r\n          <el-option\r\n            v-for=\"item in allBank\"\r\n            :key=\"item.id\"\r\n            :label=\"item.bankName\"\r\n            :value=\"item.bankName\">\r\n          </el-option>\r\n        </el-select>\r\n\r\n        <el-input v-model=\"queryInfo.questionContent\" @blur=\"contentChange\" placeholder=\"Question content\"\r\n                  style=\"margin-left: 5px;width: 220px\"\r\n                  prefix-icon=\"el-icon-search\"></el-input>\r\n      </el-row>\r\n\r\n      <el-row style=\"margin-top: 10px\">\r\n        <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"addQuTableVisible = true\">Add</el-button>\r\n      </el-row>\r\n    </el-header>\r\n\r\n    <el-main>\r\n      <!--操作的下拉框-->\r\n      <el-select @change=\"operationChange\" clearable v-if=\"selectionTable.length !== 0\" v-model=\"operation\"\r\n                 :placeholder=\"'已选择' + selectionTable.length + '项'\" style=\"margin-bottom: 25px;\">\r\n\r\n        <el-option v-for=\"(item,index) in optionInfo\" :key=\"index\" :value=\"item.desc\">\r\n          <span style=\"float: left\">{{ item.label }}</span>\r\n          <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.desc }}</span>\r\n        </el-option>\r\n\r\n      </el-select>\r\n\r\n      <el-table\r\n        ref=\"questionTable\"\r\n        highlight-current-row\r\n        v-loading=\"loading\"\r\n        :border=\"true\"\r\n        :data=\"questionInfo\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%;\" @selection-change=\"handleTableSectionChange\">\r\n\r\n        <el-table-column align=\"center\"\r\n                         type=\"selection\"\r\n                         width=\"55\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"Question type\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.quType === 1\">Single choice</span>\r\n            <span v-else-if=\"scope.row.quType === 2\">Multiple choice</span>\r\n            <span v-else-if=\"scope.row.quType === 3\">True or false</span>\r\n            <span v-else-if=\"scope.row.quType === 4\">Short answer</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"Question content\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.quContent }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"difficulty\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.level === 1\">Easy</span>\r\n            <span v-if=\"scope.row.level === 2\">Medium</span>\r\n            <span v-if=\"scope.row.level === 3\">Hard</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         prop=\"quBankName\"\r\n                         label=\"Question bank\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         prop=\"createPerson\"\r\n                         label=\"Creator\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"Creation time\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.createTime }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n\r\n      </el-table>\r\n\r\n      <!--分页-->\r\n      <el-pagination style=\"margin-top: 25px\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     :current-page=\"queryInfo.pageNo\"\r\n                     :page-sizes=\"[10, 20, 30, 50]\"\r\n                     :page-size=\"queryInfo.pageSize\"\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n                     :total=\"total\">\r\n      </el-pagination>\r\n\r\n    </el-main>\r\n\r\n    <el-dialog title=\"更新题目\" :visible.sync=\"updateQuTableVisible\" width=\"50%\" center>\r\n      <el-card>\r\n\r\n        <el-form :model=\"updateQuForm\" ref=\"updateQuForm\" :rules=\"updateQuFormRules\">\r\n\r\n          <el-form-item label=\"题目类型\" label-width=\"120px\" prop=\"questionType\">\r\n            <el-select v-model=\"updateQuForm.questionType\" disabled @change=\"updateQuForm.answer =  []\"\r\n                       placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"item in questionType\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"难度等级\" label-width=\"120px\" prop=\"questionLevel\">\r\n            <el-select v-model=\"updateQuForm.questionLevel\" placeholder=\"请选择\">\r\n              <el-option :value=\"parseInt(1)\" label=\"简单\"></el-option>\r\n              <el-option :value=\"parseInt(2)\" label=\"中等\"></el-option>\r\n              <el-option :value=\"parseInt(3)\" label=\"困难\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n\r\n          <el-form-item label=\"归属题库\" label-width=\"120px\" prop=\"bankId\">\r\n            <el-select multiple v-model=\"updateQuForm.bankId\" placeholder=\"请选择\">\r\n              <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\r\n                         :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n\r\n          <el-form-item label=\"题目内容\" label-width=\"120px\" prop=\"questionContent\">\r\n            <el-input v-model=\"updateQuForm.questionContent\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                      :rows=\"2\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"题目图片\" label-width=\"120px\">\r\n            <el-upload\r\n              :action=\"uploadImageUrl + '/teacher/uploadQuestionImage'\"\r\n              :on-preview=\"uploadPreview\"\r\n              :on-remove=\"handleUpdateRemove\"\r\n              :headers=\"headers\"\r\n              :before-upload=\"beforeAvatarUpload\"\r\n              list-type=\"picture\"\r\n              :on-success=\"updateUploadImgSuccess\"\r\n              name=\"file\">\r\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n              <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过10M</div>\r\n            </el-upload>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"整题解析\" label-width=\"120px\" prop=\"analysis\">\r\n            <el-input v-model=\"updateQuForm.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                      :rows=\"2\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-button v-if=\"updateQuForm.questionType!==4\" type=\"primary\" plain size=\"small\" icon=\"el-icon-plus\"\r\n                     style=\"margin-left: 40px\" @click=\"addUpdateAnswer\">\r\n            Add\r\n          </el-button>\r\n\r\n          <!--存放答案表单的信息-->\r\n          <el-form-item prop=\"answer\" v-if=\"updateQuForm.questionType !== 4\">\r\n            <el-table :data=\"updateQuForm.answer\" border style=\"width: 96%;margin-left: 40px;margin-top: 10px\">\r\n\r\n              <el-table-column label=\"是否答案\" width=\"80\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-checkbox v-model=\"scope.row.isTrue\" @change=\"checked=>checkUpdateAnswer(checked,scope.row.id)\">答案\r\n                  </el-checkbox>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"答案图片\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-upload id=\"answerUpload\" :limit=\"1\"\r\n                             :action=\"uploadImageUrl + '/teacher/uploadQuestionImage'\"\r\n                             :on-preview=\"uploadPreview\"\r\n                             :on-remove=\"handleUpdateAnswerRemove\"\r\n                             :headers=\"headers\"\r\n                             :before-upload=\"beforeAvatarUpload\"\r\n                             list-type=\"picture\"\r\n                             :on-success=\"(res) => { return uploadUpdateAnswerImgSuccess(res,scope.row.id)}\"\r\n                             name=\"file\">\r\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                  </el-upload>\r\n                </template>\r\n\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"答案内容\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row.answer\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                            :rows=\"2\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"答案解析\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                            :rows=\"2\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"操作\" width=\"80\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle\r\n                             @click=\"delUpdateAnswer(scope.row.id)\"></el-button>\r\n                </template>\r\n              </el-table-column>\r\n\r\n            </el-table>\r\n          </el-form-item>\r\n\r\n        </el-form>\r\n\r\n      </el-card>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"updateQuTableVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"updateQuestion\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"New Question\" :visible.sync=\"addQuTableVisible\" width=\"50%\" @close=\"resetAddQuForm\" center>\r\n\r\n      <el-card>\r\n\r\n        <el-form :model=\"addQuForm\" ref=\"addQuForm\" :rules=\"addQuFormRules\">\r\n\r\n          <el-form-item label=\"Question type\" label-width=\"120px\" prop=\"questionType\">\r\n            <el-select v-model=\"addQuForm.questionType\" @change=\"addQuForm.answer =  []\" placeholder=\"请选择\">\r\n              <el-option\r\n                v-for=\"item in questionType\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"difficulty level\" label-width=\"120px\" prop=\"questionLevel\">\r\n            <el-select v-model=\"addQuForm.questionLevel\" placeholder=\"请选择\">\r\n              <el-option :value=\"parseInt(1)\" label=\"Easy\"></el-option>\r\n              <el-option :value=\"parseInt(2)\" label=\"Medium\"></el-option>\r\n              <el-option :value=\"parseInt(3)\" label=\"Hard\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n\r\n          <el-form-item label=\"Question bank\" label-width=\"122px\" prop=\"bankId\">\r\n            <el-select multiple v-model=\"addQuForm.bankId\" placeholder=\"Select one\">\r\n              <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\r\n                         :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n\r\n\r\n          <el-form-item label=\"Question content\" label-width=\"140px\" prop=\"questionContent\">\r\n            <el-input v-model=\"addQuForm.questionContent\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                      :rows=\"2\"></el-input>\r\n          </el-form-item>\r\n\r\n          \r\n\r\n          <el-form-item label=\"Problem analysis\" label-width=\"130px\" prop=\"analysis\">\r\n            <el-input v-model=\"addQuForm.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                      :rows=\"2\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-button v-if=\"addQuForm.questionType!==4\" type=\"primary\" plain size=\"small\" icon=\"el-icon-plus\"\r\n                     style=\"margin-left: 40px\" @click=\"addAnswer\">\r\n            Add choices\r\n          </el-button>\r\n\r\n          <!--存放答案表单的信息-->\r\n          <el-form-item prop=\"answer\" v-if=\"addQuForm.questionType!==4\">\r\n            <el-table :data=\"addQuForm.answer\" border style=\"width: 96%;margin-left: 40px;margin-top: 10px\">\r\n\r\n              <el-table-column label=\"True answer\" width=\"110\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-checkbox v-model=\"scope.row.isTrue\" @change=\"checked=>checkAnswer(checked,scope.row.id)\">Yes\r\n                  </el-checkbox>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"Answer content\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row.answer\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                            :rows=\"2\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"Answer analysis\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row.analysis\" style=\"margin-left: 5px\" type=\"textarea\"\r\n                            :rows=\"2\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"operation\" width=\"100\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle @click=\"delAnswer(scope.row.id)\"></el-button>\r\n                </template>\r\n              </el-table-column>\r\n\r\n            </el-table>\r\n          </el-form-item>\r\n\r\n        </el-form>\r\n\r\n      </el-card>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addQuTableVisible = false\">Cancel</el-button>\r\n        <el-button type=\"primary\" @click=\"addQuestion\">Confirm</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"加入题库\" :visible.sync=\"addTableVisible\" width=\"30%\" @close=\"resetAddForm\"\r\n               center>\r\n\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addForm\">\r\n\r\n        <el-form-item label=\"题库名称\" label-width=\"120px\" prop=\"bankId\">\r\n\r\n          <el-select multiple v-model=\"addForm.bankId\" placeholder=\"请选择题库\">\r\n            <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\r\n                       :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\r\n          </el-select>\r\n\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addTableVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addBank\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"从题库中移除\" :visible.sync=\"removeTableVisible\" width=\"30%\" @close=\"resetRemoveForm\"\r\n               center>\r\n\r\n      <el-form :model=\"removeForm\" :rules=\"removeFormRules\" ref=\"removeForm\">\r\n\r\n        <el-form-item label=\"题库名称\" label-width=\"120px\" prop=\"bankId\">\r\n\r\n          <el-select multiple v-model=\"removeForm.bankId\" placeholder=\"请选择题库\">\r\n\r\n            <el-option v-for=\"item in allBank\" :key=\"item.bankId\"\r\n                       :label=\"item.bankName\" :value=\"item.bankId\"></el-option>\r\n          </el-select>\r\n\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"removeTableVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"removeBank\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!--图片回显-->\r\n    <el-dialog :visible.sync=\"backShowImgVisible\" @close=\"backShowImgVisible = false\">\r\n      <img style=\"width: 100%\" :src=\"backShowImgUrl\" alt=\"\">\r\n    </el-dialog>\r\n\r\n  </el-container>\r\n\r\n</template>\r\n\r\n<script>\r\nimport questionBank from '@/api/questionBank'\r\nimport question from '@/api/question'\r\nimport utils from '@/utils/utils'\r\nimport { generateSign } from '@/utils/sign'\r\n\r\nexport default {\r\n  name: 'QuestionManage',\r\n  data () {\r\n    return {\r\n      uploadImageUrl: process.env.VUE_APP_UPLOAD_IMAGE_URL,\r\n      //查询用户的参数\r\n      queryInfo: {\r\n        //题目类型下拉款所选的内容\r\n        'questionType': '',\r\n        'questionBank': '',\r\n        'questionContent': '',\r\n        'pageNo': 1,\r\n        'pageSize': 10\r\n      },\r\n      //题目类型\r\n      questionType: [\r\n        {\r\n          id: 1,\r\n          name: 'Single choice',\r\n        },\r\n        {\r\n          id: 2,\r\n          name: 'Multiple choice',\r\n        },\r\n        {\r\n          id: 3,\r\n          name: 'True or false',\r\n        },\r\n        {\r\n          id: 4,\r\n          name: 'Short answer',\r\n        },\r\n      ],\r\n      //题库信息\r\n      allBank: [],\r\n      //题目信息\r\n      questionInfo: [],\r\n      //题目信息表格是否加载\r\n      loading: true,\r\n      //表格被选中的所有行\r\n      selectionTable: [],\r\n      //表格行被选中后的所有操作方式的数据\r\n      optionInfo: [\r\n        {\r\n          'label': '删除',\r\n          'desc': 'delete'\r\n        },\r\n        {\r\n          'label': '加入题库',\r\n          'desc': 'add'\r\n        },\r\n        {\r\n          'label': '题库中移除',\r\n          'desc': 'remove'\r\n        }\r\n      ],\r\n      //表格行被选中后的数据\r\n      operation: '',\r\n      //题目总数\r\n      total: 0,\r\n      //是否显示加入题库对话框\r\n      addTableVisible: false,\r\n      //是否显示移除题库对话框\r\n      removeTableVisible: false,\r\n      //是否显示添加题目的对话框\r\n      addQuTableVisible: false,\r\n      //添加题库的表单信息\r\n      addForm: {\r\n        bankId: ''\r\n      },\r\n      removeForm: {\r\n        bankId: ''\r\n      },\r\n      //添加题库表单的验证\r\n      addFormRules: {\r\n        bankId: [\r\n          {\r\n            required: true,\r\n            message: '请选择需要添加进的题库',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      //移除题库表单的验证\r\n      removeFormRules: {\r\n        bankId: [\r\n          {\r\n            required: true,\r\n            message: '请选择需要移除的题库',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      //添加题目的表单信息\r\n      addQuForm: {\r\n        questionType: 1,\r\n        questionLevel: 1,\r\n        bankId: '',\r\n        questionContent: '',\r\n        images: [],\r\n        analysis: '',\r\n        createPerson: localStorage.getItem('username'),\r\n        //答案对象\r\n        answer: []\r\n      },\r\n      //添加题目表单的验证规则\r\n      addQuFormRules: {\r\n        questionType: [\r\n          {\r\n            required: true,\r\n            message: '请选择问题类型',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        questionLevel: [\r\n          {\r\n            required: true,\r\n            message: '请选择问题难度',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        bankId: [\r\n          {\r\n            required: true,\r\n            message: '请选择题库',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        questionContent: [\r\n          {\r\n            required: true,\r\n            message: '请输入题库内容',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n      },\r\n      //更新题目表单的验证规则\r\n      updateQuFormRules: {\r\n        questionType: [\r\n          {\r\n            required: true,\r\n            message: '请选择问题类型',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        questionLevel: [\r\n          {\r\n            required: true,\r\n            message: '请选择问题难度',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        bankId: [\r\n          {\r\n            required: true,\r\n            message: '请选择题库',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        questionContent: [\r\n          {\r\n            required: true,\r\n            message: '请输入题库内容',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n      },\r\n      //图片回显的样式\r\n      backShowImgVisible: false,\r\n      //图片回显的图片地址\r\n      backShowImgUrl: '',\r\n      //更新题目的数据信息\r\n      updateQuForm: {\r\n        questionId: '',\r\n        questionType: 1,\r\n        questionLevel: 1,\r\n        bankId: '',\r\n        questionContent: '',\r\n        images: [],\r\n        analysis: '',\r\n        createPerson: localStorage.getItem('username'),\r\n        //答案对象\r\n        answer: []\r\n      },\r\n      //是否显示更新题目的对话框\r\n      updateQuTableVisible: false,\r\n    }\r\n  },\r\n  created () {\r\n    this.getQuestionBankInfo()\r\n    this.getQuestionInfo()\r\n  },\r\n  methods: {\r\n    //获取所有的题库信息\r\n    getQuestionBankInfo () {\r\n      questionBank.getQuestionBank().then((resp) => {\r\n        if (resp.code === 200) {\r\n          this.allBank = resp.data\r\n        }\r\n      })\r\n    },\r\n    //题目类型变化\r\n    typeChange (val) {\r\n      this.queryInfo.questionType = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //题库变化\r\n    bankChange (val) {\r\n      this.queryInfo.questionBank = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //题目名字筛选\r\n    contentChange () {\r\n      //发送查询题目总数的请求\r\n      this.getQuestionInfo()\r\n    },\r\n    //获取题目信息\r\n    getQuestionInfo () {\r\n      question.getQuestion(this.queryInfo).then((resp) => {\r\n        if (resp.code === 200) {\r\n          this.questionInfo = resp.data.data\r\n          this.total = resp.data.total\r\n          this.loading = false\r\n        }\r\n      })\r\n    },\r\n    //处理表格被选中\r\n    handleTableSectionChange (val) {\r\n      this.selectionTable = val\r\n    },\r\n    //处理操作选择框的变化\r\n    operationChange (val) {\r\n      //清空上一次的选择\r\n      this.operation = ''\r\n\r\n      let questionIds = []\r\n      if (val === 'delete') {\r\n        this.selectionTable.map(item => {\r\n          questionIds.push(item.id)\r\n        })\r\n        //发起删除请求\r\n        question.deleteQuestion({ 'questionIds': questionIds.join(',') }).then(resp => {\r\n          if (resp.code === 200) {\r\n            this.$notify({\r\n              title: 'Tips',\r\n              message: '删除成功',\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n            this.getQuestionInfo()\r\n          }\r\n        })\r\n      } else if (val === 'add') {\r\n        this.addTableVisible = true\r\n      } else if (val === 'remove') {\r\n        this.removeTableVisible = true\r\n      }\r\n    },\r\n    //分页页面大小改变\r\n    handleSizeChange (val) {\r\n      this.queryInfo.pageSize = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //分页插件的页数\r\n    handleCurrentChange (val) {\r\n      this.queryInfo.pageNo = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //表单信息重置\r\n    resetAddForm () {\r\n      //清空表格数据\r\n      this.$refs['addForm'].resetFields()\r\n    },\r\n    resetRemoveForm () {\r\n      //清空表格数据\r\n      this.$refs['removeForm'].resetFields()\r\n    },\r\n    resetAddQuForm () {\r\n      this.$refs['addQuForm'].resetFields()\r\n    },\r\n    //提交加入题库的表单信息\r\n    addBank () {\r\n      utils.validFormAndInvoke(this.$refs['addForm'], () => {\r\n        let questionIds = []\r\n        let banks = this.addForm.bankId\r\n        //将表格选中的数据中的问题id加入进去\r\n        this.selectionTable.map(item => {\r\n          questionIds.push(item.id)\r\n        })\r\n        questionBank.addBankQuestion({\r\n          'questionIds': questionIds.join(','),\r\n          'banks': banks.join(',')\r\n        }).then((resp) => {\r\n          if (resp.code === 200) {\r\n            this.getQuestionInfo()\r\n            this.$notify({\r\n              title: 'Tips',\r\n              message: resp.message,\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n          }\r\n          this.addTableVisible = false\r\n        })\r\n      }, '请选择需要加入进的题库')\r\n    },\r\n    //提交移除题库的表单信息\r\n    removeBank () {\r\n      utils.validFormAndInvoke(this.$refs['removeForm'], () => {\r\n        let questionIds = []\r\n        let banks = this.removeForm.bankId\r\n        //将表格选中的数据中的问题id加入进去\r\n        this.selectionTable.map(item => {\r\n          questionIds.push(item.id)\r\n        })\r\n        //发起移除请求\r\n        questionBank.removeBankQuestion({\r\n          'questionIds': questionIds.join(','),\r\n          'banks': banks.join(',')\r\n        }).then((resp) => {\r\n          if (resp.code === 200) {\r\n            this.getQuestionInfo()\r\n            this.$notify({\r\n              title: 'Tips',\r\n              message: resp.message,\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n          }\r\n          this.removeTableVisible = false\r\n        })\r\n      }, '请选择需要移除的题库')\r\n    },\r\n    //新增题目上传后 点击图片的回显\r\n    uploadPreview (file) {\r\n      this.backShowImgUrl = file.response.data\r\n      this.backShowImgVisible = true\r\n    },\r\n    //新增题目中的上传图片的移除\r\n    handleRemove (file, fileList) {\r\n      this.addQuForm.images.map((item, index) => {//移除图片在表单中的数据\r\n        if (item === file.response.data) this.addQuForm.images.splice(index, 1)\r\n      })\r\n    },\r\n    //更新题目中的上传图片的移除\r\n    handleUpdateRemove (file, fileList) {\r\n      this.updateQuForm.images.map((item, index) => {//移除图片在表单中的数据\r\n        if (item === file.response.data) this.updateQuForm.images.splice(index, 1)\r\n      })\r\n    },\r\n    //新增题目中的上传图片的格式大小限制\r\n    beforeAvatarUpload (file) {\r\n      const isImg = file.type === 'image/jpeg' ||\r\n        file.type === 'image/png' ||\r\n        file.type === 'image/jpg'\r\n      const isLt = file.size / 1024 / 1024 < 10\r\n\r\n      if (!isImg) {\r\n        this.$message.error('上传图片只能是 JPG/PNG 格式!')\r\n      }\r\n\r\n      if (!isLt) {\r\n        this.$message.error('上传头像图片大小不能超过 10MB!')\r\n      }\r\n      return isImg && isLt\r\n    },\r\n    //新增题目中的上传图片成功后的钩子函数\r\n    uploadImgSuccess (response, file, fileList) {\r\n      this.addQuForm.images.push(response.data)\r\n    },\r\n    //更新题目中的上传图片成功后的钩子函数\r\n    updateUploadImgSuccess (response, file, fileList) {\r\n      this.updateQuForm.images.push(response.data)\r\n    },\r\n    //新增题目中的新增答案填写框\r\n    addAnswer () {\r\n      this.addQuForm.answer.push({\r\n        id: this.addQuForm.answer.length,\r\n        isTrue: false,\r\n        answer: '',\r\n        images: [],\r\n        analysis: ''\r\n      })\r\n    },\r\n    //更新时新增题目中的新增答案填写框\r\n    addUpdateAnswer () {\r\n      this.updateQuForm.answer.push({\r\n        id: this.updateQuForm.answer.length,\r\n        isTrue: false,\r\n        answer: '',\r\n        images: [],\r\n        analysis: ''\r\n      })\r\n    },\r\n    //新增题目中的删除答案填写框\r\n    delAnswer (id) {//当前答案的id\r\n      this.addQuForm.answer.map((item, index) => {\r\n        if (item.id === id) this.addQuForm.answer.splice(index, 1)\r\n      })\r\n    },\r\n    //新增题目中的删除答案填写框\r\n    delUpdateAnswer (id) {//当前答案的id\r\n      this.updateQuForm.answer.map((item, index) => {\r\n        if (item.id === id) this.updateQuForm.answer.splice(index, 1)\r\n      })\r\n    },\r\n    //答案上传照片了\r\n    uploadAnswerImgSuccess (response, id) {\r\n      this.addQuForm.answer[id].images.push(response.data)\r\n    },\r\n    //更新的答案上传图片了\r\n    uploadUpdateAnswerImgSuccess (response, id) {\r\n      this.updateQuForm.answer[id].images.push(response.data)\r\n    },\r\n    //答案上传成功后删除\r\n    handleAnswerRemove (file) {\r\n      this.addQuForm.answer.images.map((item, index) => {//移除图片在表单中的数据\r\n        if (item === file.response.data) this.addQuForm.images.splice(index, 1)\r\n      })\r\n    },\r\n    //更新的时候答案上传成功后删除\r\n    handleUpdateAnswerRemove (file) {\r\n      this.updateQuForm.answer.images.map((item, index) => {//移除图片在表单中的数据\r\n        if (item === file.response.data) this.updateQuForm.images.splice(index, 1)\r\n      })\r\n    },\r\n    //选择正确答案的按钮变化事件\r\n    checkAnswer (checked, id) {\r\n      if (checked) {\r\n        if (this.addQuForm.questionType === 1 || this.addQuForm.questionType === 3) {//单选或者判断\r\n          //当前已经有一个正确的选择了\r\n          this.addQuForm.answer.map(item => {\r\n            item.isTrue = false\r\n          })\r\n          this.addQuForm.answer.map(item => {\r\n            if (item.id === id) item.isTrue = true\r\n          })\r\n        } else {//多选 可以有多个答案\r\n          this.addQuForm.answer.map(item => {\r\n            if (item.id === id) item.isTrue = true\r\n          })\r\n        }\r\n      } else {\r\n        this.addQuForm.answer.map(item => {\r\n          if (item.id === id) item.isTrue = false\r\n        })\r\n      }\r\n    },\r\n    //更新时选择正确答案的按钮变化事件\r\n    checkUpdateAnswer (checked, id) {\r\n      if (checked) {\r\n        if (this.updateQuForm.questionType === 1 || this.updateQuForm.questionType === 3) {//单选或者判断\r\n          //当前已经有一个正确的选择了\r\n          this.updateQuForm.answer.map(item => {\r\n            item.isTrue = false\r\n          })\r\n          this.updateQuForm.answer.map(item => {\r\n            if (item.id === id) item.isTrue = true\r\n          })\r\n        } else {//多选 可以有多个答案\r\n          this.updateQuForm.answer.map(item => {\r\n            if (item.id === id) item.isTrue = true\r\n          })\r\n        }\r\n      } else {\r\n        this.updateQuForm.answer.map(item => {\r\n          if (item.id === id) item.isTrue = false\r\n        })\r\n      }\r\n    },\r\n    //新增题目\r\n    addQuestion () {\r\n      this.$refs['addQuForm'].validate((valid) => {\r\n        if (valid && this.addQuForm.answer.some(item => item.isTrue) && this.addQuForm.questionType !== 4) {//单选或者多选或者判断\r\n          question.addQuestion(this.addQuForm).then((resp) => {\r\n            if (resp.code === 200) {\r\n              this.addQuTableVisible = false\r\n              this.getQuestionInfo()\r\n              this.$notify({\r\n                title: 'Tips',\r\n                message: '新增题目成功',\r\n                type: 'success',\r\n                duration: 2000\r\n              })\r\n            }\r\n          })\r\n        } else if (valid && !this.addQuForm.answer.some(item => item.isTrue) && this.addQuForm.questionType !== 4) {//无答案\r\n          this.$message.error('必须有一个答案')\r\n          return false\r\n        } else if (valid && this.addQuForm.questionType === 4) {//简答题 无标准答案直接发请求\r\n          //当是简答题的时候需要清除answer\r\n          this.addQuForm.answer = []\r\n          question.addQuestion(this.addQuForm).then((resp) => {\r\n            if (resp.code === 200) {\r\n              this.addQuTableVisible = false\r\n              this.getQuestionInfo()\r\n              this.$notify({\r\n                title: 'Tips',\r\n                message: '新增题目成功',\r\n                type: 'success',\r\n                duration: 2000\r\n              })\r\n            }\r\n          })\r\n        } else if (!valid) {\r\n          this.$message.error('请填写必要信息')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    //更新题目\r\n    updateQu (id) {\r\n      question.getQuestionById(id).then((resp) => {\r\n        if (resp.code === 200) {\r\n          if (resp.data.questionType !== 4) {\r\n            resp.data.answer.map(item => {\r\n              item.isTrue = item.isTrue === 'true'\r\n            })\r\n          }\r\n          this.updateQuForm = resp.data\r\n          //处理图片那个参数是个数组\r\n          if (this.updateQuForm.images === null) this.updateQuForm.images = []\r\n\r\n          if (resp.data.questionType !== 4) {\r\n            this.updateQuForm.answer.map(item => {\r\n              if (item.images === null) {\r\n                item.images = []\r\n              }\r\n            })\r\n          }\r\n\r\n        }\r\n      })\r\n      this.updateQuTableVisible = true\r\n    },\r\n    //提交更新表单\r\n    updateQuestion () {\r\n      this.$refs['updateQuForm'].validate((valid) => {\r\n        if (valid && this.updateQuForm.questionType !== 4 && this.updateQuForm.answer.some(item => item.isTrue)) {//单选或者多选或者判断\r\n          //保证答案的图片只有一张\r\n          this.updateQuForm.answer.map(item => {\r\n            if (item.images.length > 1) {\r\n              item.images.splice(0, item.images.length - 1)\r\n            }\r\n          })\r\n          question.updateQuestion(this.updateQuForm).then((resp) => {\r\n            if (resp.code === 200) {\r\n              this.updateQuTableVisible = false\r\n              this.getQuestionInfo()\r\n              this.$notify({\r\n                title: 'Tips',\r\n                message: '更新题目成功',\r\n                type: 'success',\r\n                duration: 2000\r\n              })\r\n            }\r\n          })\r\n        } else if (valid && this.updateQuForm.questionType !== 4 && !this.updateQuForm.answer.some(item => item.isTrue)) {//无答案\r\n          this.$message.error('必须有一个答案')\r\n          return false\r\n        } else if (valid && this.updateQuForm.questionType === 4) {//简答题 无标准答案直接发请求\r\n          //当是简答题的时候需要清除answer\r\n          this.addQuForm.answer = []\r\n          question.updateQuestion(this.updateQuForm).then((resp) => {\r\n            if (resp.code === 200) {\r\n              this.updateQuTableVisible = false\r\n              this.getQuestionInfo()\r\n              this.$notify({\r\n                title: 'Tips',\r\n                message: '更新题目成功',\r\n                type: 'success',\r\n                duration: 2000\r\n              })\r\n            }\r\n          })\r\n        } else if (!valid) {\r\n          this.$message.error('请填写必要信息')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n  },\r\n  computed: {\r\n    //监测头部信息的token变化\r\n    headers () {\r\n      const signHeaders = {\r\n        'body-string': '',\r\n        'query-string': '',\r\n        'x-nonce': `${utils.getRandomId()}`,\r\n        'x-timestamp': `${new Date().getTime()}`\r\n      }\r\n      return {\r\n        ...signHeaders,\r\n        authorization: localStorage.getItem('authorization') || '',\r\n        sign: generateSign(JSON.stringify(signHeaders)),\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"../../assets/css/teacher/questionManage\";\r\n</style>\r\n"]}]}