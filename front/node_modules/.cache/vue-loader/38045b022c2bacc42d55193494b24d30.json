{"remainingRequest":"D:\\termination project\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\termination project\\front\\src\\views\\teacher\\UpdateExam.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\termination project\\front\\src\\views\\teacher\\UpdateExam.vue","mtime":1683946331170},{"path":"D:\\termination project\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\termination project\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\termination project\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\termination project\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgZXhhbUFwaSBmcm9tICdAL2FwaS9leGFtJw0KaW1wb3J0IHF1ZXN0aW9uIGZyb20gJ0AvYXBpL3F1ZXN0aW9uJw0KaW1wb3J0IHF1ZXN0aW9uQmFuayBmcm9tICdAL2FwaS9xdWVzdGlvbkJhbmsnDQppbXBvcnQgdXRpbHMgZnJvbSAnQC91dGlscy91dGlscycNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVXBkYXRlRXhhbScsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL+afpeivoumimOebrueahOWPguaVsA0KICAgICAgcXVlcnlJbmZvOiB7DQogICAgICAgIC8v6aKY55uu57G75Z6L5LiL5ouJ5qy+5omA6YCJ55qE5YaF5a65DQogICAgICAgICdxdWVzdGlvblR5cGUnOiAnJywNCiAgICAgICAgJ3F1ZXN0aW9uQmFuayc6ICcnLA0KICAgICAgICAncXVlc3Rpb25Db250ZW50JzogJycsDQogICAgICAgICdwYWdlTm8nOiAxLA0KICAgICAgICAncGFnZVNpemUnOiAxMA0KICAgICAgfSwNCiAgICAgIC8v6aKY55uu57G75Z6LDQogICAgICBxdWVzdGlvblR5cGU6IFsNCiAgICAgICAgew0KICAgICAgICAgIGlkOiAxLA0KICAgICAgICAgIG5hbWU6ICfljZXpgInpopgnLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgaWQ6IDIsDQogICAgICAgICAgbmFtZTogJ+WkmumAiemimCcsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBpZDogMywNCiAgICAgICAgICBuYW1lOiAn5Yik5pat6aKYJywNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGlkOiA0LA0KICAgICAgICAgIG5hbWU6ICfnroDnrZTpopgnLA0KICAgICAgICB9LA0KICAgICAgXSwNCiAgICAgIC8v5omA5pyJ6aKY5bqT5L+h5oGvDQogICAgICBhbGxCYW5rOiBbXSwNCiAgICAgIC8v5b2T5YmN55qE5q2l6aqkDQogICAgICBjdXJTdGVwOiAxLA0KICAgICAgLy/ogIPor5Xpopjnm67kv6Hmga8NCiAgICAgIHVwZGF0ZUV4YW1RdWVzdGlvbjogW10sDQogICAgICAvL+a3u+WKoOmimOW6k+eahOWvueivneahhg0KICAgICAgc2hvd1F1ZXN0aW9uRGlhbG9nOiBmYWxzZSwNCiAgICAgIC8v5a+56K+d5qGG5Lit6aKY55uu6KGo5qC855qE5Yqg6L29DQogICAgICBsb2FkaW5nOiB0cnVlLA0KICAgICAgLy/pobXpnaLkuK3nmoTpopjnm67liJfooajooajmoLwNCiAgICAgIHBhZ2VMb2FkaW5nOiB0cnVlLA0KICAgICAgLy/miYDmnInpopjnm67nmoTkv6Hmga8NCiAgICAgIHF1ZXN0aW9uSW5mbzogW10sDQogICAgICAvL+aJgOaciemimOebrueahOWvueivneahhuS4reihqOagvOiiq+mAieS4rQ0KICAgICAgc2VsZWN0ZWRUYWJsZTogW10sDQogICAgICAvL+WvueivneahhuS4remimOebrueahOaAu+aVsA0KICAgICAgdG90YWw6IDAsDQogICAgICAvL+W9k+WJjeiAg+ivleeahOS/oeaBrw0KICAgICAgZXhhbUluZm86IHt9LA0KICAgICAgLy/ooaXlhYXnmoTogIPor5Xkv6Hmga/nmoTooajljZXpqozor4ENCiAgICAgIGV4YW1JbmZvUnVsZXM6IHsNCiAgICAgICAgZXhhbU5hbWU6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXogIPor5XlkI3np7AnLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBwYXNzU2NvcmU6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgJrov4fliIbmlbAnLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBleGFtRHVyYXRpb246IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXogIPor5Xml7bplb8nLA0KICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgfSwNCiAgICB9DQogIH0sDQogIHByb3BzOiBbJ3RhZ0luZm8nXSwNCiAgY3JlYXRlZCAoKSB7DQogICAgLy/kuIDliJvlu7rlsLHmlLnlj5jlpLTpg6jnmoTpnaLljIXlsZENCiAgICB0aGlzLiRlbWl0KCdnaXZlQ2hpbGRDaGFuZ2VCcmVha0luZm8nLCAnVXBkYXRlIGV4YW1pbmF0aW9uJywgJ1VwZGF0ZSBleGFtaW5hdGlvbicpDQogICAgdGhpcy5jcmVhdGVUYWdzSW5QYXJlbnQoKQ0KICAgIHRoaXMuZ2V0RXhhbUluZm8oKQ0KICAgIHRoaXMuZ2V0QmFua0luZm8oKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy/lkJHniLbnu4Tku7bkuK3mt7vliqDlpLTpg6jnmoR0YWdz5qCH562+DQogICAgY3JlYXRlVGFnc0luUGFyZW50ICgpIHsNCiAgICAgIGxldCBmbGFnID0gZmFsc2UNCiAgICAgIHRoaXMudGFnSW5mby5tYXAoaXRlbSA9PiB7DQogICAgICAgIC8v5aaC5p6cdGFnc+WFqOmDqOespuWQiA0KICAgICAgICBpZiAoaXRlbS5uYW1lID09PSAn5pu05paw6ICD6K+VJyAmJiBpdGVtLnVybCA9PT0gdGhpcy4kcm91dGUucGF0aCkgew0KICAgICAgICAgIGZsYWcgPSB0cnVlDQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lID09PSAn5pu05paw6ICD6K+VJyAmJiBpdGVtLnVybCAhPT0gdGhpcy4kcm91dGUucGF0aCkgew0KICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZVRhZ0luZm8nLCAn5pu05paw6ICD6K+VJywgdGhpcy4kcm91dGUucGF0aCkNCiAgICAgICAgICBmbGFnID0gdHJ1ZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgaWYgKCFmbGFnKSB0aGlzLiRlbWl0KCdnaXZlQ2hpbGRBZGRUYWcnLCAn5pu05paw6ICD6K+VJywgdGhpcy4kcm91dGUucGF0aCkNCiAgICB9LA0KICAgIC8v5qC55o2u6ICD6K+V55qEaWTmn6Xor6LogIPor5XnmoTkv6Hmga/lkozpopjnm67nmoTkv6Hmga8NCiAgICBhc3luYyBnZXRFeGFtSW5mbyAoKSB7DQogICAgICBhd2FpdCBleGFtQXBpLmdldEV4YW1JbmZvQnlJZCh0aGlzLiRyb3V0ZS5wYXJhbXMpLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgdGhpcy5leGFtSW5mbyA9IHJlc3AuZGF0YQ0KICAgICAgICAgIGxldCBzY29yZXMgPSByZXNwLmRhdGEuc2NvcmVzLnNwbGl0KCcsJykNCiAgICAgICAgICBjb25zdCBxdWVzdGlvbkFyciA9IHJlc3AuZGF0YS5xdWVzdGlvbklkcy5zcGxpdCgnLCcpDQogICAgICAgICAgY29uc3QgcXVlc3Rpb25TY29yZU1hcCA9IG5ldyBNYXAoKQ0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlc3Rpb25BcnIubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHF1ZXN0aW9uU2NvcmVNYXAuc2V0KHF1ZXN0aW9uQXJyW2ldLCBzY29yZXNbaV0pDQogICAgICAgICAgfQ0KICAgICAgICAgIHF1ZXN0aW9uLmdldFF1ZXN0aW9uQnlJZHMoeyAnaWRzJzogcmVzcC5kYXRhLnF1ZXN0aW9uSWRzIH0pLnRoZW4ocmVzcCA9PiB7DQogICAgICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICAgICAgKHJlc3A/LmRhdGE/LmRhdGEgfHwgW10pLmZvckVhY2gocSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFeGFtUXVlc3Rpb24ucHVzaCh7DQogICAgICAgICAgICAgICAgICAncXVlc3Rpb25JZCc6IHBhcnNlSW50KHEucXVlc3Rpb25JZCksDQogICAgICAgICAgICAgICAgICAncXVlc3Rpb25UeXBlJzogcS5xdWVzdGlvblR5cGUsDQogICAgICAgICAgICAgICAgICAncXVlc3Rpb25Db250ZW50JzogcS5xdWVzdGlvbkNvbnRlbnQsDQogICAgICAgICAgICAgICAgICAnc2NvcmUnOiBxdWVzdGlvblNjb3JlTWFwLmdldChgJHtxLnF1ZXN0aW9uSWR9YCkNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5wYWdlTG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+iHqueUsee7hOWNt+aXtua3u+WKoOivlemimA0KICAgIHNob3dBZGREaWFsb2cgKCkgew0KICAgICAgdGhpcy5zaG93UXVlc3Rpb25EaWFsb2cgPSB0cnVlDQogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgfSwNCiAgICAvL+iOt+WPluaJgOacieeahOmimOW6k+S/oeaBrw0KICAgIGdldEJhbmtJbmZvICgpIHsNCiAgICAgIHF1ZXN0aW9uQmFuay5nZXRCYW5rSGF2ZVF1ZXN0aW9uU3VtQnlUeXBlKHsNCiAgICAgICAgJ3BhZ2VObyc6IDEsDQogICAgICAgICdwYWdlU2l6ZSc6IDk5OTkNCiAgICAgIH0pLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgaWYgKHJlc3AuY29kZSA9PT0gMjAwKSB7DQogICAgICAgICAgdGhpcy5hbGxCYW5rID0gcmVzcC5kYXRhLmRhdGENCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgdGl0bGU6ICdUaXBzJywNCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3AubWVzc2FnZSwNCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsDQogICAgICAgICAgICBkdXJhdGlvbjogMjAwMA0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+iOt+WPlumimOebruS/oeaBrw0KICAgIGdldFF1ZXN0aW9uSW5mbyAoKSB7DQogICAgICBxdWVzdGlvbi5nZXRRdWVzdGlvbih0aGlzLnF1ZXJ5SW5mbykudGhlbigocmVzcCkgPT4gew0KICAgICAgICBpZiAocmVzcC5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICB0aGlzLnF1ZXN0aW9uSW5mbyA9IHJlc3AuZGF0YS5kYXRhDQogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3AuZGF0YS50b3RhbA0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgIHRpdGxlOiAnVGlwcycsDQogICAgICAgICAgICBtZXNzYWdlOiAn6I635Y+W6aKY5bqT5L+h5oGv5aSx6LSlJywNCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsDQogICAgICAgICAgICBkdXJhdGlvbjogMjAwMA0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+iHqueUsee7hOWNt+aXtuWIoOmZpOivlemimA0KICAgIGRlbFF1ZXN0aW9uIChxdWVzdGlvbklkKSB7DQogICAgICB0aGlzLnVwZGF0ZUV4YW1RdWVzdGlvbi5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICBpZiAoaXRlbS5xdWVzdGlvbklkID09PSBxdWVzdGlvbklkKSB0aGlzLnVwZGF0ZUV4YW1RdWVzdGlvbi5zcGxpY2UoaW5kZXgsIDEpDQogICAgICB9KQ0KICAgIH0sDQogICAgLy/popjnm67nsbvlnovlj5jljJYNCiAgICB0eXBlQ2hhbmdlICh2YWwpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnF1ZXN0aW9uVHlwZSA9IHZhbA0KICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKQ0KICAgIH0sDQogICAgLy/popjlupPlj5jljJYNCiAgICBiYW5rQ2hhbmdlICh2YWwpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnF1ZXN0aW9uQmFuayA9IHZhbA0KICAgICAgdGhpcy5nZXRRdWVzdGlvbkluZm8oKQ0KICAgIH0sDQogICAgLy/oh6rnlLHnu4TljbfkuK3pgInkuK3nmoTpopjnm67mt7vliqDov5vljrsNCiAgICBhZGRRdVRvRnJlZSAoKSB7DQogICAgICB0aGlzLnNlbGVjdGVkVGFibGUuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZUV4YW1RdWVzdGlvbi5zb21lKGkyID0+IHsNCiAgICAgICAgICByZXR1cm4gaTIucXVlc3Rpb25JZCA9PT0gaXRlbS5pZA0KICAgICAgICB9KSkgey8v5LiN5a2Y5Zyo5pyJ5b2T5YmN6aKY55uuDQogICAgICAgICAgdGhpcy51cGRhdGVFeGFtUXVlc3Rpb24ucHVzaCh7DQogICAgICAgICAgICAncXVlc3Rpb25JZCc6IGl0ZW0uaWQsDQogICAgICAgICAgICAncXVlc3Rpb25Db250ZW50JzogaXRlbS5xdUNvbnRlbnQsDQogICAgICAgICAgICAncXVlc3Rpb25UeXBlJzogaXRlbS5xdVR5cGUsDQogICAgICAgICAgICAnc2NvcmUnOiAxDQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHRoaXMuc2hvd1F1ZXN0aW9uRGlhbG9nID0gZmFsc2UNCiAgICB9LA0KICAgIC8v5aSE55CG6KGo5qC86KKr6YCJ5LitDQogICAgaGFuZGxlVGFibGVTZWN0aW9uQ2hhbmdlICh2YWwpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRUYWJsZSA9IHZhbA0KICAgIH0sDQogICAgLy/liIbpobXpobXpnaLlpKflsI/mlLnlj5gNCiAgICBoYW5kbGVTaXplQ2hhbmdlICh2YWwpIHsNCiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gdmFsDQogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgfSwNCiAgICAvL+WIhumhteaPkuS7tueahOmhteaVsA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UgKHZhbCkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZU5vID0gdmFsDQogICAgICB0aGlzLmdldFF1ZXN0aW9uSW5mbygpDQogICAgfSwNCiAgICAvL+abtOaWsOiAg+ivlQ0KICAgIHVwZGF0ZUV4YW0gKCkgew0KICAgICAgdXRpbHMudmFsaWRGb3JtQW5kSW52b2tlKHRoaXMuJHJlZnNbJ2V4YW1JbmZvRm9ybSddLCAoKSA9PiB7DQogICAgICAgIC8v5p6E6YCg5pWw5o2u5a+56LGhKOiAg+ivleS/oeaBrykNCiAgICAgICAgbGV0IGV4YW0gPSB0aGlzLmV4YW1JbmZvDQogICAgICAgIGlmICh0aGlzLnVwZGF0ZUV4YW1RdWVzdGlvbi5sZW5ndGggIT09IDApIHsvL+iHqueUsee7hOWNt+aooeW8jw0KICAgICAgICAgIGlmIChleGFtLnR5cGUgPT09IDEpIHsNCiAgICAgICAgICAgIGV4YW0ucGFzc3dvcmQgPSBudWxsDQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnNvbGUubG9nKGV4YW0pDQogICAgICAgICAgaWYgKGV4YW0udHlwZSA9PT0gMiAmJiAoZXhhbS5wYXNzd29yZCA9PT0gbnVsbCB8fCBleGFtLnBhc3N3b3JkID09PSAnJykpIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+W9k+WJjeadg+mZkOS4uumcgOimgeWvhueggSzkvYbmmK/lr4bnoIHkuLrnqbonKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgfQ0KICAgICAgICAgIC8v6aKY55uuaWTmlbDnu4QNCiAgICAgICAgICBsZXQgcXVlc3Rpb25JZHMgPSBbXQ0KICAgICAgICAgIC8v6aKY55uu5oiQ57up5pWw57uEDQogICAgICAgICAgbGV0IHNjb3JlcyA9IFtdDQogICAgICAgICAgdGhpcy51cGRhdGVFeGFtUXVlc3Rpb24uZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgIHF1ZXN0aW9uSWRzLnB1c2goaXRlbS5xdWVzdGlvbklkKQ0KICAgICAgICAgICAgc2NvcmVzLnB1c2goaXRlbS5zY29yZSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIGV4YW0ucXVlc3Rpb25JZHMgPSBxdWVzdGlvbklkcy5qb2luKCcsJykNCiAgICAgICAgICBleGFtLnNjb3JlcyA9IHNjb3Jlcy5qb2luKCcsJykNCiAgICAgICAgICBleGFtQXBpLnVwZGF0ZUV4YW1JbmZvKGV4YW0pLnRoZW4oKHJlc3ApID0+IHsNCiAgICAgICAgICAgIGlmIChyZXNwLmNvZGUgPT09IDIwMCkgew0KICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICB0aXRsZTogJ1RpcHMnLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3AubWVzc2FnZSwNCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMA0KICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2V4YW1NYW5hZ2UnKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35qOA5p+l6ICD6K+V6KeE5YiZ6K6+572u5piv5ZCm5a6M5pW0JykNCiAgICAgICAgfQ0KICAgICAgfSwgJ+ivt+ajgOafpeiAg+ivleinhOWImeiuvue9ruaYr+WQpuWujOaVtCcpDQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC8v6K6h566X5oC75YiGDQogICAgc3VtVG90YWxTY29yZSAoKSB7DQogICAgICBsZXQgc2NvcmUgPSAwDQogICAgICB0aGlzLnVwZGF0ZUV4YW1RdWVzdGlvbi5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBzY29yZSArPSBwYXJzZUludChpdGVtLnNjb3JlKQ0KICAgICAgfSkNCiAgICAgIHRoaXMuZXhhbUluZm8udG90YWxTY29yZSA9IHNjb3JlDQogICAgICByZXR1cm4gc2NvcmUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["UpdateExam.vue"],"names":[],"mappings":";AAoOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateExam.vue","sourceRoot":"src/views/teacher","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-header height=\"220\">\r\n      <el-steps :active=\"curStep\" simple>\r\n        <el-step title=\"Examination setup\" icon=\"el-icon-edit\"></el-step>\r\n        <el-step title=\"Examination priority\" icon=\"el-icon-lock\"></el-step>\r\n        <el-step title=\"Additional setup\" icon=\"el-icon-setting\"></el-step>\r\n      </el-steps>\r\n\r\n      <el-button style=\"margin-top: 10px\" v-show=\"curStep !== 1\" @click=\"curStep--\">previous</el-button>\r\n\r\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep !== 3\" type=\"primary\" @click=\"curStep++\">next\r\n      </el-button>\r\n      <el-button style=\"float:right;margin-top: 10px\" v-show=\"curStep === 3\" type=\"primary\" @click=\"updateExam\">submit\r\n      </el-button>\r\n    </el-header>\r\n\r\n    <el-main>\r\n      <!--设置试题信息-->\r\n      <el-card v-show=\"curStep === 1\">\r\n\r\n        <span style=\"float: right;color: red;font-weight: bold\">\r\n          {{ 'Total score：' + sumTotalScore }}</span>\r\n\r\n        <div>\r\n          <el-card>\r\n            <h1>Question list</h1>\r\n            <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"small\" @click=\"showAddDialog\">Add question</el-button>\r\n\r\n            <el-table v-loading=\"pageLoading\" :data=\"updateExamQuestion\" border style=\"margin-top: 10px\">\r\n\r\n              <el-table-column\r\n                type=\"index\"\r\n                label=\"Serial number\"\r\n                width=\"50\">\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"Question content\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  {{ scope.row.questionContent }}\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column align=\"center\"\r\n                               label=\"Question type\">\r\n                <template slot-scope=\"scope\">\r\n                  <span v-if=\"scope.row.questionType === 1\">Single choice</span>\r\n                  <span v-else-if=\"scope.row.questionType === 2\">Multiple choice</span>\r\n                  <span v-else-if=\"scope.row.questionType === 3\">True or false</span>\r\n                  <span v-else-if=\"scope.row.questionType === 4\">short answer</span>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"Point\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row.score\" style=\"margin-left: 5px\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column label=\"Operation\" width=\"80\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button type=\"danger\" icon=\"el-icon-delete\" circle\r\n                             @click=\"delQuestion(scope.row.questionId)\"></el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n\r\n          </el-card>\r\n        </div>\r\n      </el-card>\r\n\r\n      <!--设置考试权限-->\r\n      <el-card v-show=\"curStep === 2\">\r\n        <el-radio-group v-model=\"examInfo.type\" size=\"medium\">\r\n          <el-radio :label=\"1\" border>Public</el-radio>\r\n          <el-radio :label=\"2\" border>Private</el-radio>\r\n        </el-radio-group>\r\n\r\n\r\n        <el-input style=\"margin-top: 15px;width: 20%\" v-model=\"examInfo.password\" v-show=\"examInfo.type === 2\"\r\n                  type=\"password\" show-password placeholder=\"输入考试密码\"></el-input>\r\n      </el-card>\r\n\r\n      <!--设置考试信息-->\r\n      <el-card v-show=\"curStep === 3\">\r\n\r\n        <el-form :model=\"examInfo\" :rules=\"examInfoRules\" ref=\"examInfoForm\" label-width=\"100px\">\r\n\r\n          <el-form-item label=\"Examination name\" prop=\"examName\">\r\n            <el-input v-model=\"examInfo.examName\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Examination description\" prop=\"examDesc\">\r\n            <el-input v-model=\"examInfo.examDesc\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Total score\" prop=\"totalScore\">\r\n            <el-input-number :value=\"sumTotalScore\" :disabled=\"true\"></el-input-number>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Passing score\" prop=\"passScore\">\r\n            <el-input-number v-model=\"examInfo.passScore\" :min=\"1\" :max=\"sumTotalScore\"></el-input-number>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Examination duration(minutes)\" prop=\"examDuration\">\r\n            <el-input-number v-model=\"examInfo.examDuration\" :min=\"1\" :max=\"120\"></el-input-number>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"Start time\" prop=\"startTime\">\r\n            <el-date-picker style=\"margin-left: 5px\"\r\n                            v-model=\"examInfo.startTime\"\r\n                            type=\"date\" placeholder=\"Start time\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"End time\" prop=\"endTime\">\r\n            <el-date-picker style=\"margin-left: 5px\"\r\n                            v-model=\"examInfo.endTime\"\r\n                            type=\"date\" placeholder=\"End time\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n\r\n        </el-form>\r\n\r\n      </el-card>\r\n    </el-main>\r\n\r\n    <el-dialog title=\"Add question\" :visible.sync=\"showQuestionDialog\" width=\"80%\" center>\r\n      <el-row>\r\n        <el-select @change=\"typeChange\" clearable v-model=\"queryInfo.questionType\" placeholder=\"Select a question type\">\r\n          <el-option\r\n            v-for=\"item in questionType\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\">\r\n          </el-option>\r\n        </el-select>\r\n\r\n        <el-select @change=\"bankChange\" clearable v-model=\"queryInfo.questionBank\" placeholder=\"Select a question bank\"\r\n                   style=\"margin-left: 5px\">\r\n          <el-option\r\n            v-for=\"item in allBank\"\r\n            :key=\"item.questionBank.bankId\"\r\n            :label=\"item.questionBank.bankName\"\r\n            :value=\"item.questionBank.bankName\">\r\n          </el-option>\r\n        </el-select>\r\n\r\n        <el-input v-model=\"queryInfo.questionContent\" @blur=\"getQuestionInfo\" placeholder=\"Question content\"\r\n                  style=\"margin-left: 5px;width: 220px\"\r\n                  prefix-icon=\"el-icon-search\"></el-input>\r\n        <el-button type=\"primary\" @click=\"addQuToFree\" style=\"float: right\">Confirm {{ selectedTable.length }}</el-button>\r\n      </el-row>\r\n\r\n      <el-table\r\n        ref=\"questionTable\"\r\n        highlight-current-row\r\n        v-loading=\"loading\"\r\n        :border=\"true\"\r\n        :data=\"questionInfo\"\r\n        tooltip-effect=\"dark\"\r\n        style=\"width: 100%;margin-top: 25px;\" @selection-change=\"handleTableSectionChange\">\r\n\r\n        <el-table-column align=\"center\"\r\n                         type=\"selection\"\r\n                         width=\"55\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"Question type\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.quType === 1\">Single choice</span>\r\n            <span v-else-if=\"scope.row.quType === 2\">Multiple Choice</span>\r\n            <span v-else-if=\"scope.row.quType === 3\">True or false</span>\r\n            <span v-else-if=\"scope.row.quType === 4\">Short answer</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\" label=\"Question content\">\r\n          <template slot-scope=\"scope\">\r\n            <span class=\"quContent\">{{ scope.row.quContent }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"difficulty\">\r\n          <template slot-scope=\"scope\">\r\n            <span v-if=\"scope.row.level === 1\">Easy</span>\r\n            <span v-if=\"scope.row.level === 2\">Medium</span>\r\n            <span v-if=\"scope.row.level === 3\">Hard</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         prop=\"quBankName\"\r\n                         label=\"Belong to\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         prop=\"createPerson\"\r\n                         label=\"Creator\">\r\n        </el-table-column>\r\n\r\n        <el-table-column align=\"center\"\r\n                         label=\"Creation time\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.createTime }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n\r\n      </el-table>\r\n      <!--分页-->\r\n      <el-pagination style=\"margin-top: 25px\"\r\n                     @size-change=\"handleSizeChange\"\r\n                     @current-change=\"handleCurrentChange\"\r\n                     :current-page=\"queryInfo.pageNo\"\r\n                     :page-sizes=\"[10, 20, 30, 50]\"\r\n                     :page-size=\"queryInfo.pageSize\"\r\n                     layout=\"total, sizes, prev, pager, next, jumper\"\r\n                     :total=\"total\">\r\n      </el-pagination>\r\n    </el-dialog>\r\n\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport examApi from '@/api/exam'\r\nimport question from '@/api/question'\r\nimport questionBank from '@/api/questionBank'\r\nimport utils from '@/utils/utils'\r\n\r\nexport default {\r\n  name: 'UpdateExam',\r\n  data () {\r\n    return {\r\n      //查询题目的参数\r\n      queryInfo: {\r\n        //题目类型下拉款所选的内容\r\n        'questionType': '',\r\n        'questionBank': '',\r\n        'questionContent': '',\r\n        'pageNo': 1,\r\n        'pageSize': 10\r\n      },\r\n      //题目类型\r\n      questionType: [\r\n        {\r\n          id: 1,\r\n          name: '单选题',\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '多选题',\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '判断题',\r\n        },\r\n        {\r\n          id: 4,\r\n          name: '简答题',\r\n        },\r\n      ],\r\n      //所有题库信息\r\n      allBank: [],\r\n      //当前的步骤\r\n      curStep: 1,\r\n      //考试题目信息\r\n      updateExamQuestion: [],\r\n      //添加题库的对话框\r\n      showQuestionDialog: false,\r\n      //对话框中题目表格的加载\r\n      loading: true,\r\n      //页面中的题目列表表格\r\n      pageLoading: true,\r\n      //所有题目的信息\r\n      questionInfo: [],\r\n      //所有题目的对话框中表格被选中\r\n      selectedTable: [],\r\n      //对话框中题目的总数\r\n      total: 0,\r\n      //当前考试的信息\r\n      examInfo: {},\r\n      //补充的考试信息的表单验证\r\n      examInfoRules: {\r\n        examName: [\r\n          {\r\n            required: true,\r\n            message: '请输入考试名称',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        passScore: [\r\n          {\r\n            required: true,\r\n            message: '请输入通过分数',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        examDuration: [\r\n          {\r\n            required: true,\r\n            message: '请输入考试时长',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  props: ['tagInfo'],\r\n  created () {\r\n    //一创建就改变头部的面包屑\r\n    this.$emit('giveChildChangeBreakInfo', 'Update examination', 'Update examination')\r\n    this.createTagsInParent()\r\n    this.getExamInfo()\r\n    this.getBankInfo()\r\n  },\r\n  methods: {\r\n    //向父组件中添加头部的tags标签\r\n    createTagsInParent () {\r\n      let flag = false\r\n      this.tagInfo.map(item => {\r\n        //如果tags全部符合\r\n        if (item.name === '更新考试' && item.url === this.$route.path) {\r\n          flag = true\r\n        } else if (item.name === '更新考试' && item.url !== this.$route.path) {\r\n          this.$emit('updateTagInfo', '更新考试', this.$route.path)\r\n          flag = true\r\n        }\r\n      })\r\n      if (!flag) this.$emit('giveChildAddTag', '更新考试', this.$route.path)\r\n    },\r\n    //根据考试的id查询考试的信息和题目的信息\r\n    async getExamInfo () {\r\n      await examApi.getExamInfoById(this.$route.params).then((resp) => {\r\n        if (resp.code === 200) {\r\n          this.examInfo = resp.data\r\n          let scores = resp.data.scores.split(',')\r\n          const questionArr = resp.data.questionIds.split(',')\r\n          const questionScoreMap = new Map()\r\n          for (let i = 0; i < questionArr.length; i++) {\r\n            questionScoreMap.set(questionArr[i], scores[i])\r\n          }\r\n          question.getQuestionByIds({ 'ids': resp.data.questionIds }).then(resp => {\r\n            if (resp.code === 200) {\r\n              (resp?.data?.data || []).forEach(q => {\r\n                this.updateExamQuestion.push({\r\n                  'questionId': parseInt(q.questionId),\r\n                  'questionType': q.questionType,\r\n                  'questionContent': q.questionContent,\r\n                  'score': questionScoreMap.get(`${q.questionId}`)\r\n                })\r\n              })\r\n            }\r\n          })\r\n          this.pageLoading = false\r\n        }\r\n      })\r\n    },\r\n    //自由组卷时添加试题\r\n    showAddDialog () {\r\n      this.showQuestionDialog = true\r\n      this.getQuestionInfo()\r\n    },\r\n    //获取所有的题库信息\r\n    getBankInfo () {\r\n      questionBank.getBankHaveQuestionSumByType({\r\n        'pageNo': 1,\r\n        'pageSize': 9999\r\n      }).then((resp) => {\r\n        if (resp.code === 200) {\r\n          this.allBank = resp.data.data\r\n        } else {\r\n          this.$notify({\r\n            title: 'Tips',\r\n            message: resp.message,\r\n            type: 'error',\r\n            duration: 2000\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //获取题目信息\r\n    getQuestionInfo () {\r\n      question.getQuestion(this.queryInfo).then((resp) => {\r\n        if (resp.code === 200) {\r\n          this.questionInfo = resp.data.data\r\n          this.total = resp.data.total\r\n          this.loading = false\r\n        } else {\r\n          this.$notify({\r\n            title: 'Tips',\r\n            message: '获取题库信息失败',\r\n            type: 'error',\r\n            duration: 2000\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //自由组卷时删除试题\r\n    delQuestion (questionId) {\r\n      this.updateExamQuestion.forEach((item, index) => {\r\n        if (item.questionId === questionId) this.updateExamQuestion.splice(index, 1)\r\n      })\r\n    },\r\n    //题目类型变化\r\n    typeChange (val) {\r\n      this.queryInfo.questionType = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //题库变化\r\n    bankChange (val) {\r\n      this.queryInfo.questionBank = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //自由组卷中选中的题目添加进去\r\n    addQuToFree () {\r\n      this.selectedTable.forEach(item => {\r\n        if (!this.updateExamQuestion.some(i2 => {\r\n          return i2.questionId === item.id\r\n        })) {//不存在有当前题目\r\n          this.updateExamQuestion.push({\r\n            'questionId': item.id,\r\n            'questionContent': item.quContent,\r\n            'questionType': item.quType,\r\n            'score': 1\r\n          })\r\n        }\r\n      })\r\n      this.showQuestionDialog = false\r\n    },\r\n    //处理表格被选中\r\n    handleTableSectionChange (val) {\r\n      this.selectedTable = val\r\n    },\r\n    //分页页面大小改变\r\n    handleSizeChange (val) {\r\n      this.queryInfo.pageSize = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //分页插件的页数\r\n    handleCurrentChange (val) {\r\n      this.queryInfo.pageNo = val\r\n      this.getQuestionInfo()\r\n    },\r\n    //更新考试\r\n    updateExam () {\r\n      utils.validFormAndInvoke(this.$refs['examInfoForm'], () => {\r\n        //构造数据对象(考试信息)\r\n        let exam = this.examInfo\r\n        if (this.updateExamQuestion.length !== 0) {//自由组卷模式\r\n          if (exam.type === 1) {\r\n            exam.password = null\r\n          }\r\n          console.log(exam)\r\n          if (exam.type === 2 && (exam.password === null || exam.password === '')) {\r\n            this.$message.error('当前权限为需要密码,但是密码为空')\r\n            return false\r\n          }\r\n          //题目id数组\r\n          let questionIds = []\r\n          //题目成绩数组\r\n          let scores = []\r\n          this.updateExamQuestion.forEach(item => {\r\n            questionIds.push(item.questionId)\r\n            scores.push(item.score)\r\n          })\r\n          exam.questionIds = questionIds.join(',')\r\n          exam.scores = scores.join(',')\r\n          examApi.updateExamInfo(exam).then((resp) => {\r\n            if (resp.code === 200) {\r\n              this.$notify({\r\n                type: 'success',\r\n                title: 'Tips',\r\n                message: resp.message,\r\n                duration: 2000\r\n              })\r\n              this.$router.push('/examManage')\r\n            }\r\n          })\r\n        } else {\r\n          this.$message.error('请检查考试规则设置是否完整')\r\n        }\r\n      }, '请检查考试规则设置是否完整')\r\n    }\r\n  },\r\n  computed: {\r\n    //计算总分\r\n    sumTotalScore () {\r\n      let score = 0\r\n      this.updateExamQuestion.forEach(item => {\r\n        score += parseInt(item.score)\r\n      })\r\n      this.examInfo.totalScore = score\r\n      return score\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.el-container {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.el-container {\r\n  animation: leftMoveIn .7s ease-in;\r\n}\r\n\r\n@keyframes leftMoveIn {\r\n  0% {\r\n    transform: translateX(-100%);\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    transform: translateX(0%);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n\r\n/deep/ .el-table thead {\r\n  color: rgb(85, 85, 85) !important;\r\n}\r\n\r\n/*表格的头部样式*/\r\n/deep/ .has-gutter tr th {\r\n  background: rgb(242, 243, 244);\r\n  color: rgb(85, 85, 85);\r\n  font-weight: bold;\r\n  line-height: 32px;\r\n}\r\n\r\n.el-table {\r\n  box-shadow: 0 0 1px 1px gainsboro;\r\n}\r\n</style>\r\n"]}]}